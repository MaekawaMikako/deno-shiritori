{
  "version": 3,
  "sources": ["jsx-shim.js", "server.tsx", "http:https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/data.ts", "http:https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/context.ts", "http:https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/head.ts", "http:https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/link.ts", "http:https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/router.ts", "http:https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/error.ts", "http:https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/portal.ts", "http:http://localhost:6060/src/pages/_404.tsx", "http:http://localhost:6060/src/components/header/index.tsx?v=1656958332182", "http:http://localhost:6060/src/pages/_app.tsx", "http:http://localhost:6060/src/pages/game.tsx", "http:http://localhost:6060/src/components/button/index.tsx?v=1656958332182", "http:http://localhost:6060/src/components/modal/index.tsx?v=1656958332182", "http:http://localhost:6060/src/pages/index.tsx", "http:http://localhost:6060/src/pages/api/user.ts", "http:https://deno.land/x/aleph@1.0.0-alpha.71/server/mod.ts", "http:https://deno.land/x/aleph@1.0.0-alpha.71/server/transformer.ts", "http:http://localhost:6060/server.tsx"],
  "sourcesContent": ["import React from \"https://esm.sh/react@18.1.0\";\nexport { React }", "import { DependencyGraph } from \"https://deno.land/x/aleph@1.0.0-alpha.71/server/graph.ts\";\nimport graph from \"./server_dependency_graph.js\";\nglobalThis.__ALEPH_SERVER_DEP_GRAPH = new DependencyGraph(graph.modules);\nimport { revive } from \"https://deno.land/x/aleph@1.0.0-alpha.71/server/routing.ts\";\nimport { E404 as $0, default as $$0 } from \"http://localhost:6060/src/pages/_404.tsx\";\nrevive(\"./src/pages/_404.tsx\", { E404: $0, default: $$0 });\nimport { App as $1, default as $$1 } from \"http://localhost:6060/src/pages/_app.tsx\";\nrevive(\"./src/pages/_app.tsx\", { App: $1, default: $$1 });\nimport { data as $2, Game as $$2, default as $$$2 } from \"http://localhost:6060/src/pages/game.tsx\";\nrevive(\"./src/pages/game.tsx\", { data: $2, Game: $$2, default: $$$2 });\nimport { Index as $3, default as $$3 } from \"http://localhost:6060/src/pages/index.tsx\";\nrevive(\"./src/pages/index.tsx\", { Index: $3, default: $$3 });\nimport { handler as $4 } from \"http://localhost:6060/src/pages/api/user.ts\";\nrevive(\"./src/pages/api/user.ts\", { handler: $4 });\nimport \"http://localhost:6060/server.tsx\";", "import type { FC, PropsWithChildren } from \"react\";\nimport { createElement, useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\nimport { FetchError } from \"../core/error.ts\";\nimport type { DataContextProps, HttpMethod, UpdateStrategy } from \"./context.ts\";\nimport { DataContext } from \"./context.ts\";\n\nexport type RouteData = {\n  data?: unknown;\n  dataCacheTtl?: number;\n  dataExpires?: number;\n};\n\nexport type DataProviderProps = PropsWithChildren<{\n  dataUrl: string;\n  dataCache: Map<string, RouteData>;\n}>;\n\nexport const DataProvider: FC<DataProviderProps> = ({ dataUrl, dataCache, children }) => {\n  const deferedData = useRef<unknown>();\n  const [data, setData] = useState(() => {\n    const cached = dataCache.get(dataUrl);\n    if (cached) {\n      if (typeof cached.data === \"function\") {\n        const res = cached.data();\n        if (res instanceof Promise) {\n          return res.then((data) => {\n            dataCache.set(dataUrl, { data });\n            deferedData.current = data;\n          }).catch((error) => {\n            dataCache.set(dataUrl, { data: error });\n            deferedData.current = error;\n          });\n        }\n        throw new Error(`Data for ${dataUrl} has invalid type [function].`);\n      }\n      return cached.data;\n    }\n    throw new Error(`Data for ${dataUrl} is not found`);\n  });\n  const [isMutating, setIsMutating] = useState<HttpMethod | boolean>(false);\n  const action = useCallback(async (method: HttpMethod, fetcher: Promise<Response>, update: UpdateStrategy) => {\n    const updateIsObject = update && typeof update === \"object\" && update !== null;\n    const optimistic = updateIsObject && typeof update.optimisticUpdate === \"function\";\n    const replace = update === \"replace\" || (updateIsObject && !!update.replace);\n\n    let rollbackData: unknown = undefined;\n    if (optimistic) {\n      const optimisticUpdate = update.optimisticUpdate!;\n      setData((prev: unknown) => {\n        if (prev !== undefined) {\n          rollbackData = prev;\n          return optimisticUpdate(shallowClone(prev));\n        }\n        return prev;\n      });\n    }\n\n    setIsMutating(method);\n    const res = await fetcher;\n    if (res.status >= 400) {\n      const err = await FetchError.fromResponse(res);\n      const details = err.details as { redirect?: { location: string } };\n      if (err.status === 501 && typeof details.redirect?.location === \"string\") {\n        location.href = details.redirect?.location;\n        return res;\n      }\n\n      if (optimistic) {\n        if (rollbackData !== undefined) {\n          setData(rollbackData);\n        }\n        if (update.onFailure) {\n          update.onFailure(err);\n        }\n        setIsMutating(false);\n        return res;\n      }\n\n      throw err;\n    }\n\n    if (replace && res.ok) {\n      try {\n        const data = await res.json();\n        const dataCacheTtl = dataCache.get(dataUrl)?.dataCacheTtl;\n        dataCache.set(dataUrl, {\n          data,\n          dataCacheTtl,\n          dataExpires: Date.now() + (dataCacheTtl || 1) * 1000,\n        });\n        setData(data);\n      } catch (_) {\n        if (optimistic) {\n          if (rollbackData !== undefined) {\n            setData(rollbackData);\n          }\n          if (update.onFailure) {\n            update.onFailure(new FetchError(500, \"Data must be valid JSON\"));\n          }\n        }\n      }\n    }\n\n    setIsMutating(false);\n    return res;\n  }, [dataUrl]);\n  const reload = useCallback(async (signal?: AbortSignal) => {\n    try {\n      const res = await fetch(dataUrl + (dataUrl.includes(\"?\") ? \"&\" : \"?\") + \"_data_\", {\n        headers: [[\"Accept\", \"application/json\"]],\n        signal,\n      });\n\n      if (!res.ok) {\n        const err = await FetchError.fromResponse(res);\n        const details = err.details as { redirect?: { location: string } };\n        if (err.status === 501 && typeof details.redirect?.location === \"string\") {\n          location.href = details.redirect?.location;\n          await new Promise(() => {});\n        }\n        throw err;\n      }\n\n      try {\n        const data = await res.json();\n        const cc = res.headers.get(\"Cache-Control\");\n        const dataCacheTtl = cc && cc.includes(\"max-age=\") ? parseInt(cc.split(\"max-age=\")[1]) : undefined;\n        const dataExpires = Date.now() + (dataCacheTtl || 1) * 1000;\n        dataCache.set(dataUrl, { data, dataExpires });\n        setData(data);\n      } catch (_e) {\n        throw new FetchError(500, \"Data must be valid JSON\");\n      }\n    } catch (error) {\n      throw new Error(`Failed to reload data for ${dataUrl}: ${error.message}`);\n    }\n  }, [dataUrl]);\n  const mutation = useMemo(() => {\n    return {\n      post: (data?: unknown, update?: UpdateStrategy) => {\n        return action(\"post\", send(\"post\", dataUrl, data), update ?? \"none\");\n      },\n      put: (data?: unknown, update?: UpdateStrategy) => {\n        return action(\"put\", send(\"put\", dataUrl, data), update ?? \"none\");\n      },\n      patch: (data?: unknown, update?: UpdateStrategy) => {\n        return action(\"patch\", send(\"patch\", dataUrl, data), update ?? \"none\");\n      },\n      delete: (data?: unknown, update?: UpdateStrategy) => {\n        return action(\"delete\", send(\"delete\", dataUrl, data), update ?? \"none\");\n      },\n    };\n  }, [dataUrl]);\n\n  useEffect(() => {\n    const now = Date.now();\n    const cache = dataCache.get(dataUrl);\n    let ac: AbortController | null = null;\n    if (\n      cache === undefined ||\n      (cache.data !== undefined && (cache.dataExpires === undefined || cache.dataExpires < now))\n    ) {\n      ac = new AbortController();\n      reload(ac.signal).finally(() => {\n        ac = null;\n      });\n    } else if (cache.data !== undefined) {\n      setData(cache.data);\n    }\n\n    return () => ac?.abort();\n  }, [dataUrl]);\n\n  return createElement(\n    DataContext.Provider,\n    { value: { deferedData, data, isMutating, mutation, reload } },\n    children,\n  );\n};\n\nexport const useData = <T = unknown>(): Omit<DataContextProps<T>, \"deferedData\"> => {\n  const { deferedData, data, ...rest } = useContext(DataContext) as DataContextProps<T>;\n  if (data instanceof Error) {\n    throw data;\n  }\n  if (data instanceof Promise) {\n    if (deferedData?.current instanceof Error) {\n      throw deferedData.current;\n    }\n    if (deferedData?.current !== undefined) {\n      return { ...rest, data: deferedData.current };\n    }\n    throw data;\n  }\n  return { data, ...rest };\n};\n\nfunction send(method: HttpMethod, href: string, data: unknown): Promise<Response> {\n  let body: BodyInit | undefined;\n  const headers = new Headers([[\"Accept\", \"application/json\"]]);\n  if (typeof data === \"string\") {\n    body = data;\n  } else if (typeof data === \"number\") {\n    body = data.toString();\n  } else if (typeof data === \"object\") {\n    if (data instanceof ArrayBuffer || data instanceof Uint8Array) {\n      body = data;\n    } else if (data instanceof FormData) {\n      body = data;\n    } else if (data instanceof URLSearchParams) {\n      body = data;\n    } else if (data instanceof Blob) {\n      body = data;\n      headers.append(\"Content-Type\", data.type);\n    } else {\n      body = JSON.stringify(data);\n      headers.append(\"Content-Type\", \"application/json; charset=utf-8\");\n    }\n  }\n  return fetch(href, { method, body, headers });\n}\n\nfunction shallowClone<T>(obj: T): T {\n  if (obj === null || typeof obj !== \"object\") {\n    return obj;\n  }\n  if (Array.isArray(obj)) {\n    return [...obj] as unknown as T;\n  }\n  return { ...obj };\n}\n", "import type { ReactNode, ReactPortal } from \"react\";\nimport { createContext } from \"react\";\n\nexport type RouterContextProps = {\n  url: URL;\n  params: Record<string, string>;\n  e404?: boolean;\n  ssrHeadCollection?: string[];\n  createPortal?: (children: ReactNode, container: Element, key?: null | string) => ReactPortal;\n};\n\nexport const RouterContext = createContext<RouterContextProps>({\n  url: new URL(\"http://localhost/\"),\n  params: {},\n});\nRouterContext.displayName = \"RouterContext\";\n\nexport type HttpMethod = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\n\nexport type UpdateStrategy<T = unknown> = \"none\" | \"replace\" | {\n  optimisticUpdate?: (data: T) => T;\n  onFailure?: (error: Error) => void;\n  replace?: boolean;\n};\n\nexport type Mutation<T> = {\n  [key in \"post\" | \"put\" | \"patch\" | \"delete\"]: (\n    data?: unknown,\n    updateStrategy?: UpdateStrategy<T>,\n  ) => Promise<Response>;\n};\n\nexport type DataContextProps<T = unknown> = {\n  deferedData?: { current?: T };\n  data: T;\n  isMutating: HttpMethod | boolean;\n  mutation: Mutation<T>;\n  reload: (signal?: AbortSignal) => Promise<void>;\n};\n\nexport const DataContext = createContext<DataContextProps>({\n  data: undefined,\n  isMutating: false,\n  mutation: {\n    post: () => Promise.resolve(new Response(null)),\n    put: () => Promise.resolve(new Response(null)),\n    patch: () => Promise.resolve(new Response(null)),\n    delete: () => Promise.resolve(new Response(null)),\n  },\n  reload: () => Promise.resolve(undefined),\n});\nDataContext.displayName = \"DataContext\";\n\nexport type ForwardPropsContextProps = {\n  props: Record<string, unknown>;\n};\n\nexport const ForwardPropsContext = createContext<ForwardPropsContextProps>({\n  props: {},\n});\nForwardPropsContext.displayName = \"ForwardPropsContext\";\n", "import type { FC, ReactNode } from \"react\";\nimport { Children, createElement, Fragment, isValidElement, useContext, useEffect, useMemo } from \"react\";\nimport util from \"../../lib/util.ts\";\nimport { RouterContext } from \"./context.ts\";\n\nexport const Head: FC<{ children?: ReactNode }> = (props) => {\n  const { ssrHeadCollection } = useContext(RouterContext);\n  const [els, forwardNodes] = useMemo(() => parse(props.children), [\n    props.children,\n  ]);\n\n  if (ssrHeadCollection) {\n    els.forEach(({ type, props }) => {\n      const { children, ...rest } = props;\n      if (type === \"title\") {\n        if (util.isFilledString(children)) {\n          ssrHeadCollection.push(`<title ssr>${children}</title>`);\n        } else if (util.isFilledArray(children)) {\n          ssrHeadCollection.push(`<title ssr>${children.join(\"\")}</title>`);\n        }\n      } else {\n        const attrs = Object.entries(rest).map(([key, value]) => ` ${key}=${JSON.stringify(value)}`)\n          .join(\"\");\n        if (util.isFilledString(children)) {\n          ssrHeadCollection.push(`<${type}${attrs} ssr>${children}</${type}>`);\n        } else if (util.isFilledArray(children)) {\n          ssrHeadCollection.push(\n            `<${type}${attrs} ssr>${children.join(\"\")}</${type}>`,\n          );\n        } else {\n          ssrHeadCollection.push(`<${type}${attrs} ssr>`);\n        }\n      }\n    });\n  }\n\n  useEffect(() => {\n    const { document } = window;\n    const insertedEls: Array<HTMLElement> = [];\n\n    if (els.length > 0) {\n      els.forEach(({ type, props }) => {\n        const el = document.createElement(type);\n        Object.keys(props).forEach((key) => {\n          const value = props[key];\n          if (key === \"children\") {\n            if (util.isFilledString(value)) {\n              el.innerText = value;\n            } else if (util.isFilledArray(value)) {\n              el.innerText = value.join(\"\");\n            }\n          } else {\n            el.setAttribute(key, String(value || \"\"));\n          }\n        });\n        document.head.appendChild(el);\n        insertedEls.push(el);\n      });\n    }\n\n    return () => {\n      insertedEls.forEach((el) => document.head.removeChild(el));\n    };\n  }, [els]);\n\n  return createElement(Fragment, null, ...forwardNodes);\n};\n\nfunction parse(\n  node: ReactNode,\n): [{ type: string; props: Record<string, unknown> }[], ReactNode[]] {\n  const els: { type: string; props: Record<string, unknown> }[] = [];\n  const forwardNodes: ReactNode[] = [];\n  const walk = (node: ReactNode) => {\n    Children.forEach(node, (child) => {\n      if (!isValidElement(child)) {\n        return;\n      }\n\n      const { type, props } = child;\n      switch (type) {\n        case Fragment:\n          walk(props.children);\n          break;\n\n        // case InlineStyle:\n        //   forwardNodes.push(createElement(InlineStyle, props));\n        //   break;\n\n        // ingore `script` and `no-script` tag\n\n        case \"base\":\n        case \"title\":\n        case \"meta\":\n        case \"link\":\n        case \"style\":\n          // remove the children prop of base/meta/link elements\n          if ([\"base\", \"meta\", \"link\"].includes(type) && \"children\" in props) {\n            const { children: _, ...rest } = props;\n            els.push({ type, props: rest });\n          } else {\n            els.push({ type, props });\n          }\n          break;\n      }\n    });\n  };\n\n  walk(node);\n  return [els, forwardNodes];\n}\n", "import type { AnchorHTMLAttributes, CSSProperties, MouseEvent, MutableRefObject, PropsWithChildren } from \"react\";\nimport { createElement, useCallback, useEffect, useMemo, useRef } from \"react\";\nimport util from \"../../lib/util.ts\";\nimport events from \"../core/events.ts\";\nimport { redirect } from \"../core/redirect.ts\";\nimport { useRouter } from \"./router.ts\";\n\nconst prefetched = new Set<string>();\n\nexport type LinkProps = PropsWithChildren<\n  {\n    to: string;\n    replace?: boolean;\n    prefetch?: boolean;\n    innerRef?: MutableRefObject<HTMLAnchorElement | null>;\n  } & Omit<AnchorHTMLAttributes<Record<never, never>>, \"herf\" | \"hrefLang\">\n>;\n\n/**\n * The `<Link>` component to link between pages.\n */\nexport function Link(props: LinkProps) {\n  const {\n    to,\n    prefetch: propPrefetch,\n    replace,\n    className,\n    style,\n    onClick: propOnClick,\n    onMouseEnter: propOnMouseEnter,\n    onMouseLeave: propOnMouseLeave,\n    [\"aria-current\"]: propAriaCurrent,\n    children,\n    innerRef,\n    ...rest\n  } = props;\n  const { url: { pathname } } = useRouter();\n  const href = useMemo(() => {\n    if (!util.isFilledString(to)) {\n      throw new Error(\"<Link>: prop `to` is required.\");\n    }\n    if (util.isLikelyHttpURL(to)) {\n      return to;\n    }\n    let [p, q] = util.splitBy(to, \"?\");\n    if (p.startsWith(\"/\")) {\n      p = util.cleanPath(p);\n    } else {\n      p = util.cleanPath(pathname + \"/\" + p);\n    }\n    return [p, q].filter(Boolean).join(\"?\");\n  }, [pathname, to]);\n  const ariaCurrent = useMemo(() => {\n    if (util.isFilledString(propAriaCurrent)) {\n      return propAriaCurrent;\n    }\n    if (href.startsWith(\"/\")) {\n      return \"page\";\n    }\n    return undefined;\n  }, [href, propAriaCurrent]);\n  const prefetch = useCallback(() => {\n    if (!util.isLikelyHttpURL(href) && !prefetched.has(href)) {\n      events.emit(\"moduleprefetch\", { href });\n      prefetched.add(href);\n    }\n  }, [href]);\n  const timerRef = useRef<number | null>(null);\n  const onMouseEnter = (e: MouseEvent) => {\n    if (typeof propOnMouseEnter === \"function\") {\n      propOnMouseEnter(e);\n    }\n    if (e.defaultPrevented) {\n      return;\n    }\n    if (!timerRef.current && !prefetched.has(href)) {\n      timerRef.current = setTimeout(() => {\n        timerRef.current = null;\n        prefetch();\n      }, 150);\n    }\n  };\n  const onMouseLeave = (e: MouseEvent) => {\n    if (typeof propOnMouseLeave === \"function\") {\n      propOnMouseLeave(e);\n    }\n    if (e.defaultPrevented) {\n      return;\n    }\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n  const onClick = (e: MouseEvent) => {\n    if (typeof propOnClick === \"function\") {\n      propOnClick(e);\n    }\n    if (e.defaultPrevented || isModifiedEvent(e)) {\n      return;\n    }\n    e.preventDefault();\n    redirect(href, replace);\n  };\n\n  useEffect(() => {\n    if (propPrefetch) {\n      prefetch();\n    }\n    return () => {\n      if (timerRef.current) {\n        clearTimeout(timerRef.current);\n        timerRef.current = null;\n      }\n    };\n  }, [propPrefetch, prefetch]);\n\n  return createElement(\n    \"a\",\n    {\n      ...rest,\n      className,\n      style,\n      href,\n      onClick,\n      onMouseEnter,\n      onMouseLeave,\n      \"aria-current\": ariaCurrent,\n      ref: innerRef,\n    },\n    children,\n  );\n}\n\nexport type NavLinkProps = LinkProps & {\n  exact?: boolean;\n  activeClassName?: string;\n  activeStyle?: CSSProperties;\n};\n\n/**\n * A special version of the `<Link>` that will add styling attributes to the rendered element when it matches the current URL.\n */\nexport function NavLink(props: NavLinkProps) {\n  const { to, exact, className: propClassName, style: propStyle, activeStyle, activeClassName, ...rest } = props;\n  const { url } = useRouter();\n  const isActivated = useMemo(() => {\n    if (!util.isFilledString(to)) {\n      return false;\n    }\n\n    const [p, q] = util.splitBy(to, \"?\");\n    const currentPathname = util.trimSuffix(url.pathname, \"/\");\n    let pathname: string;\n    if (p.startsWith(\"/\")) {\n      pathname = util.cleanPath(p);\n    } else {\n      pathname = util.cleanPath(currentPathname + \"/\" + p);\n    }\n    if (!exact) {\n      return pathname === currentPathname || currentPathname.startsWith(pathname + \"/\");\n    }\n    return pathname === currentPathname && q === url.searchParams.toString();\n  }, [url.pathname, url.searchParams, to, exact]);\n  const className = useMemo(() => {\n    if (!isActivated || !activeClassName) {\n      return propClassName;\n    }\n    return [propClassName, activeClassName].filter(util.isFilledString).join(\" \");\n  }, [propClassName, activeClassName, isActivated]);\n  const style = useMemo(() => {\n    if (!isActivated || !activeStyle) {\n      return propStyle;\n    }\n    return Object.assign({}, propStyle, activeStyle);\n  }, [propStyle, activeStyle, isActivated]);\n  const linkProps: LinkProps = { ...rest, to, className, style };\n  if (isActivated) {\n    Object.assign(linkProps, { \"data-active\": \"true\" });\n  }\n  return createElement(Link, linkProps);\n}\n\nfunction isModifiedEvent(event: MouseEvent): boolean {\n  const { target } = event.currentTarget as HTMLAnchorElement;\n  const nativeEvent = event.nativeEvent;\n  return (\n    (target && target !== \"_self\") ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey || // triggers resource download\n    (nativeEvent && nativeEvent.which === 2)\n  );\n}\n", "import type { FC, ReactNode } from \"react\";\nimport { createElement, StrictMode, Suspense, useContext, useEffect, useMemo, useState } from \"react\";\nimport events from \"../core/events.ts\";\nimport { FetchError } from \"../core/error.ts\";\nimport { redirect } from \"../core/redirect.ts\";\nimport type { Route, RouteMeta, RouteModule, RouteTable } from \"../core/route.ts\";\nimport { matchRoutes } from \"../core/route.ts\";\nimport { URLPatternCompat, URLPatternInput } from \"../core/url_pattern.ts\";\nimport { ForwardPropsContext, RouterContext, type RouterContextProps } from \"./context.ts\";\nimport { DataProvider, type RouteData } from \"./data.ts\";\nimport { Err, ErrorBoundary } from \"./error.ts\";\n\n// deno-lint-ignore no-explicit-any\nconst global = window as any;\n\nexport type SSRContext = {\n  readonly url: URL;\n  readonly routeModules: RouteModule[];\n  readonly headCollection: string[];\n  readonly dataDefer: boolean;\n};\n\nexport type RouterProps = {\n  readonly ssrContext?: SSRContext;\n  readonly dataDefer?: boolean;\n  readonly strictMode?: boolean;\n  readonly createPortal?: RouterContextProps[\"createPortal\"];\n};\n\n/** The `Router` component for react. */\nexport const Router: FC<RouterProps> = (props) => {\n  const { ssrContext, dataDefer: dataDeferProp, strictMode, createPortal } = props;\n  const [url, setUrl] = useState(() => ssrContext?.url || new URL(window.location?.href));\n  const [modules, setModules] = useState(() => ssrContext?.routeModules || loadSSRModulesFromTag());\n  const dataCache = useMemo(() => {\n    const cache = new Map<string, RouteData>();\n    modules.forEach(({ url, data, dataCacheTtl }) => {\n      const dataUrl = url.pathname + url.search;\n      if (data instanceof Promise) {\n        cache.set(url.href, { data: prefetchRouteData(cache, dataUrl, true) });\n      } else {\n        cache.set(dataUrl, {\n          data,\n          dataCacheTtl,\n          dataExpires: Date.now() + (dataCacheTtl || 1) * 1000,\n        });\n      }\n    });\n    return cache;\n  }, []);\n  const params = useMemo(() => {\n    const params: Record<string, string> = {};\n    modules.forEach((m) => {\n      Object.assign(params, m.params);\n    });\n    return params;\n  }, [modules]);\n\n  useEffect(() => {\n    const { head, body } = window.document;\n    const routeModules = getRouteModules();\n    const routeTable = loadRouteTableFromTag();\n    const dataDefer = body.hasAttribute(\"data-defer\") ?? dataDeferProp;\n    const deployId = body.getAttribute(\"data-deployment-id\");\n\n    // import route module\n    const importModule = async ({ filename }: RouteMeta) => {\n      let url = filename.slice(1);\n      if (deployId) {\n        url += `?v=${deployId}`;\n      }\n      const { default: defaultExport, data, GET } = await import(url);\n      const withData = Boolean(data ?? GET);\n      routeModules[filename] = { defaultExport, withData };\n      return { defaultExport, withData };\n    };\n\n    // prefetch module using `<link rel=\"modulepreload\" href=\"...\">`\n    const onmoduleprefetch = (e: Record<string, unknown>) => {\n      const pageUrl = new URL(e.href as string, location.href);\n      const matches = matchRoutes(pageUrl, routeTable);\n      matches.map(([_, meta]) => {\n        const { filename } = meta;\n        if (!(filename in routeModules)) {\n          const link = document.createElement(\"link\");\n          let href = meta.filename.slice(1);\n          if (deployId) {\n            href += `?v=${deployId}`;\n          }\n          link.setAttribute(\"rel\", \"modulepreload\");\n          link.setAttribute(\"href\", href);\n          document.head.appendChild(link);\n        }\n      });\n    };\n\n    // `popstate` event handler\n    const onpopstate = async (e: Record<string, unknown>) => {\n      const url = (e.url as URL | undefined) || new URL(window.location.href);\n      const matches = matchRoutes(url, routeTable);\n      const loadingBarEl = getLoadingBarEl();\n      let loading: number | null = setTimeout(() => {\n        loading = null;\n        loadingBarEl.style.opacity = \"1\";\n        loadingBarEl.style.width = \"50%\";\n      }, 300);\n      const modules = await Promise.all(matches.map(async ([ret, meta]) => {\n        const { filename } = meta;\n        const rmod: RouteModule = {\n          url: new URL(ret.pathname.input + url.search, url.href),\n          params: ret.pathname.groups,\n          filename,\n        };\n        const dataUrl = rmod.url.pathname + rmod.url.search;\n        if (filename in routeModules) {\n          Object.assign(rmod, routeModules[filename]);\n        } else {\n          const { defaultExport, withData } = await importModule(meta);\n          Object.assign(rmod, { defaultExport, withData });\n        }\n        if (!dataCache.has(dataUrl) && routeModules[filename]?.withData === true) {\n          rmod.withData = true;\n          await prefetchRouteData(dataCache, dataUrl, dataDefer);\n        }\n        return rmod;\n      }));\n      setModules(modules);\n      setUrl(url);\n      setTimeout(() => {\n        if (loading) {\n          clearTimeout(loading);\n          loadingBarEl.remove();\n        } else {\n          const moveOutTime = 0.7;\n          const fadeOutTime = 0.3;\n          const t1 = setTimeout(() => {\n            loadingBarEl.style.opacity = \"0\";\n          }, moveOutTime * 1000);\n          const t2 = setTimeout(() => {\n            global.__LOADING_BAR_CLEANUP = null;\n            loadingBarEl.remove();\n          }, (moveOutTime + fadeOutTime) * 1000);\n          global.__LOADING_BAR_CLEANUP = () => {\n            clearTimeout(t1);\n            clearTimeout(t2);\n          };\n          loadingBarEl.style.transition = `opacity ${fadeOutTime}s ease-out, width ${moveOutTime}s ease-in-out`;\n          setTimeout(() => {\n            loadingBarEl.style.width = \"100%\";\n          }, 0);\n        }\n      }, 0);\n      if (e.url) {\n        window.scrollTo(0, 0);\n      }\n    };\n\n    // update route record when creating a new route file\n    const onhmrcreate = (e: Record<string, unknown>) => {\n      const pattern = e.routePattern as URLPatternInput | undefined;\n      if (pattern) {\n        const route: Route = [\n          new URLPatternCompat(pattern),\n          {\n            filename: e.specifier as string,\n            pattern,\n          },\n        ];\n        const pathname = pattern.pathname.slice(1);\n        if (pathname === \"_app\" || pathname === \"_404\") {\n          routeTable[pathname] = route;\n        }\n        routeTable.routes.push(route);\n      }\n    };\n\n    // update route record when removing a route file\n    const onhmrremove = (e: Record<string, unknown>) => {\n      const route = routeTable.routes.find((v) => v[1].filename === e.specifier);\n      const pathname = (route?.[1].pattern.pathname)?.slice(1);\n      if (pathname === \"_app\" || pathname === \"_404\") {\n        routeTable[pathname] = undefined;\n      }\n      routeTable.routes = routeTable.routes.filter((v) => v[1].filename != e.specifier);\n      onpopstate({ type: \"popstate\" });\n    };\n\n    addEventListener(\"popstate\", onpopstate as unknown as EventListener);\n    events.on(\"popstate\", onpopstate);\n    events.on(\"moduleprefetch\", onmoduleprefetch);\n    events.on(\"hmr:create\", onhmrcreate);\n    events.on(\"hmr:remove\", onhmrremove);\n    events.emit(\"routerready\", { type: \"routerready\" });\n\n    // remove ssr head elements\n    Array.from(head.children).forEach((el: Element) => {\n      if (el.hasAttribute(\"ssr\")) {\n        head.removeChild(el);\n      }\n    });\n\n    // clean up\n    return () => {\n      removeEventListener(\"popstate\", onpopstate as unknown as EventListener);\n      events.off(\"popstate\", onpopstate);\n      events.off(\"moduleprefetch\", onmoduleprefetch);\n      events.off(\"hmr:create\", onhmrcreate);\n      events.off(\"hmr:remove\", onhmrremove);\n    };\n  }, []);\n\n  if (modules.length === 0) {\n    return createElement(Err, { error: { status: 404, message: \"page not found\" }, fullscreen: true });\n  }\n\n  const el = createElement(\n    RouterContext.Provider,\n    {\n      value: {\n        url,\n        params,\n        e404: modules[modules.length - 1].url.pathname === \"/_404\" ? true : undefined,\n        ssrHeadCollection: ssrContext?.headCollection,\n        createPortal,\n      },\n    },\n    createElement(RouteRoot, { modules, dataCache, ssrContext }),\n  );\n  if (strictMode) {\n    return createElement(StrictMode, {}, el);\n  }\n  return el;\n};\n\ntype RouteRootProps = {\n  modules: RouteModule[];\n  dataCache: Map<string, RouteData>;\n  ssrContext?: SSRContext;\n};\n\nconst RouteRoot: FC<RouteRootProps> = ({ modules, dataCache, ssrContext }) => {\n  const { url, defaultExport, withData } = modules[0];\n  const dataUrl = url.pathname + url.search;\n  let el: ReactNode;\n\n  if (typeof defaultExport === \"function\") {\n    el = createElement(\n      defaultExport as FC,\n      null,\n      modules.length > 1 && createElement(\n        RouteRoot,\n        { modules: modules.slice(1), dataCache, ssrContext },\n      ),\n    );\n    if (withData) {\n      el = createElement(\n        Suspense,\n        {\n          fallback: null,\n        },\n        createElement(\n          DataProvider,\n          {\n            dataCache,\n            dataUrl: dataUrl,\n            key: dataUrl,\n          },\n          el,\n        ),\n      );\n    }\n  } else {\n    el = createElement(Err, {\n      error: { status: 500, message: \"missing default export as a valid React component\" },\n    });\n  }\n\n  return createElement(ErrorBoundary, { Handler: Err }, el);\n};\n\n/** The `App` component alias to the `Router` in `StrictMode` mode. */\nexport const App: FC<Omit<RouterProps, \"strictMode\">> = (props) => {\n  return createElement(Router, { ...props, strictMode: true });\n};\n\nexport const useRouter = (): {\n  url: URL;\n  params: Record<string, string>;\n  e404?: boolean;\n  redirect: typeof redirect;\n} => {\n  const { url, params, e404 } = useContext(RouterContext);\n  return { url, params, e404, redirect };\n};\n\nexport const forwardProps = (children?: ReactNode, props: Record<string, unknown> = {}) => {\n  if (\n    children === null || children === undefined || typeof children === \"string\" || typeof children === \"number\" ||\n    typeof children === \"boolean\"\n  ) {\n    return children;\n  }\n  return createElement(ForwardPropsContext.Provider, { value: { props } }, children);\n};\n\nexport const useForwardProps = <T = Record<string, unknown>>(): T => {\n  const { props } = useContext(ForwardPropsContext);\n  return props as T;\n};\n\nfunction loadRouteTableFromTag(): RouteTable {\n  const el = window.document?.getElementById(\"routes-manifest\");\n  if (el) {\n    try {\n      const manifest = JSON.parse(el.innerText);\n      if (Array.isArray(manifest.routes)) {\n        let _app: Route | undefined = undefined;\n        let _404: Route | undefined = undefined;\n        const routes = manifest.routes.map((meta: RouteMeta) => {\n          const { pattern } = meta;\n          const route: Route = [new URLPatternCompat(pattern), meta];\n          if (pattern.pathname === \"/_app\") {\n            _app = route;\n          } else if (pattern.pathname === \"/_404\") {\n            _404 = route;\n          }\n          return route;\n        });\n        return { routes, _app, _404 };\n      }\n    } catch (e) {\n      throw new Error(`loadRouteTableFromTag: ${e.message}`);\n    }\n  }\n  return { routes: [] };\n}\n\n// prefetch route data\nasync function prefetchRouteData(dataCache: Map<string, RouteData>, dataUrl: string, dataDefer: boolean) {\n  const rd: RouteData = {};\n  const fetchData = async () => {\n    const res = await fetch(dataUrl + (dataUrl.includes(\"?\") ? \"&\" : \"?\") + \"_data_\", {\n      headers: { \"Accept\": \"application/json\" },\n    });\n    if (!res.ok) {\n      const err = await FetchError.fromResponse(res);\n      const details = err.details as { redirect?: { location: string } };\n      if (err.status === 501 && typeof details.redirect?.location === \"string\") {\n        location.href = details.redirect?.location;\n        return;\n      }\n      return err;\n    }\n    try {\n      const data = await res.json();\n      const cc = res.headers.get(\"Cache-Control\");\n      rd.dataCacheTtl = cc?.includes(\"max-age=\") ? parseInt(cc.split(\"max-age=\")[1]) : undefined;\n      rd.dataExpires = Date.now() + (rd.dataCacheTtl || 1) * 1000;\n      return data;\n    } catch (_e) {\n      return new Error(\"Data must be valid JSON\");\n    }\n  };\n  if (dataDefer) {\n    rd.data = fetchData;\n  } else {\n    rd.data = await fetchData();\n  }\n  dataCache.set(dataUrl, rd);\n}\n\nfunction loadSSRModulesFromTag(): RouteModule[] {\n  const el = window.document?.getElementById(\"ssr-modules\");\n  if (el) {\n    try {\n      const data = JSON.parse(el.innerText);\n      if (Array.isArray(data)) {\n        let deferedData: Record<string, unknown> | null | undefined = undefined;\n        const routeModules = getRouteModules();\n        return data.map(({ url, filename, dataDefered, ...rest }) => {\n          if (dataDefered) {\n            if (deferedData === undefined) {\n              const el = window.document?.getElementById(\"defered-data\");\n              if (el) {\n                deferedData = JSON.parse(el.innerText);\n              } else {\n                deferedData = null;\n              }\n            }\n            if (deferedData) {\n              rest.data = deferedData[url];\n            } else {\n              rest.data = Promise.resolve(null);\n            }\n          }\n          if (rest.error) {\n            rest.data = new FetchError(500, rest.error.message, { stack: rest.error.stack });\n            rest.error = undefined;\n          }\n          return {\n            url: new URL(url, location.href),\n            filename,\n            defaultExport: routeModules[filename].defaultExport,\n            ...rest,\n          };\n        });\n      }\n    } catch (e) {\n      throw new Error(`loadSSRModulesFromTag: ${e.message}`);\n    }\n  }\n  return [];\n}\n\nfunction getRouteModules(): Record<string, { defaultExport?: unknown; withData?: boolean }> {\n  return global.__ROUTE_MODULES || (global.__ROUTE_MODULES = {});\n}\n\nfunction getLoadingBarEl(): HTMLDivElement {\n  if (typeof global.__LOADING_BAR_CLEANUP === \"function\") {\n    global.__LOADING_BAR_CLEANUP();\n    global.__LOADING_BAR_CLEANUP = null;\n  }\n  let bar = (document.getElementById(\"loading-bar\") as HTMLDivElement | null);\n  if (!bar) {\n    bar = document.createElement(\"div\");\n    bar.id = \"loading-bar\";\n    document.body.appendChild(bar);\n  }\n  Object.assign(bar.style, {\n    position: \"fixed\",\n    top: \"0\",\n    left: \"0\",\n    zIndex: \"9999\",\n    width: \"0\",\n    height: \"1px\",\n    opacity: \"0\",\n    background: \"rgba(128, 128, 128, 0.9)\",\n    transition: \"opacity 0.6s ease-in, width 3s ease-in\",\n  });\n  return bar;\n}\n", "import type { FC, PropsWithChildren } from \"react\";\nimport { Component, createElement } from \"react\";\n\ntype ErrorBoundaryProps = PropsWithChildren<{ Handler: FC<{ error: Error }> }>;\n\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, { error: Error | null }> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { error };\n  }\n\n  render() {\n    if (this.state.error instanceof Error) {\n      return createElement(this.props.Handler, { error: this.state.error });\n    }\n\n    return this.props.children;\n  }\n}\n\nexport function Err(\n  { error: { status, message }, fullscreen }: { error: { status?: number; message: string }; fullscreen?: boolean },\n) {\n  return createElement(\n    \"div\",\n    {\n      style: fullscreen\n        ? {\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          width: \"100vw\",\n          height: \"100vh\",\n          fontSize: 18,\n        }\n        : {\n          boxSizing: \"border-box\",\n          width: \"96%\",\n          height: \"96%\",\n          margin: \"auto\",\n          border: \"1px solid rgba(255,0,0,0.5)\",\n          backgroundColor: \"rgba(255,0,0,0.05)\",\n          borderRadius: \"8px\",\n          padding: \"1.5rem 2rem\",\n          color: \"red\",\n          textAlign: \"center\",\n        },\n    },\n    status && createElement(\"strong\", { style: { fontWeight: \"600\" } }, status),\n    status && createElement(\"small\", { style: { opacity: 0.5, padding: \"0 6px\" } }, \"-\"),\n    message,\n  );\n}\n", "import type { ReactNode, ReactPortal } from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { RouterContext } from \"./context.ts\";\n\n/**\n *  The `usePortal` hook to create a portal helper.\n *  Please ensure to pass the `React.createPortal` in `Router` props.\n *\n *  ```jsx\n *  function Modal() {\n *    const portal = usePortal({ preventScroll: true });\n *    return portal(<p>Hello portal!</p>);\n *  }\n *  ```\n */\nexport function usePortal(\n  props?: { key: string | null; className?: string; preventScroll?: boolean },\n): (el: ReactNode) => ReactPortal | null {\n  const { key, className, preventScroll } = props || {};\n  const { createPortal } = useContext(RouterContext);\n  const [portalRoot, setPortalRoot] = useState<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    const bs = document.body.style;\n    const pof = bs.overflow;\n    const pofX = bs.overflowX;\n    const pofY = bs.overflowY;\n    if (preventScroll) {\n      bs.overflow = \"hidden\";\n      bs.overflowX = \"hidden\";\n      bs.overflowY = \"hidden\";\n    }\n\n    const portalRoot = document.createElement(\"div\");\n    if (key) {\n      portalRoot.id = key;\n    }\n    portalRoot.className = className ?? \"portal-root\";\n    document.body.appendChild(portalRoot);\n    setPortalRoot(portalRoot);\n\n    return () => {\n      setPortalRoot(null);\n      document.body.removeChild(portalRoot);\n      if (preventScroll) {\n        bs.overflow = pof;\n        bs.overflowX = pofX;\n        bs.overflowY = pofY;\n      }\n    };\n  }, [key, className, preventScroll]);\n\n  if (!portalRoot) {\n    return () => null;\n  }\n\n  if (!createPortal) {\n    throw new Error(\"Please ensure to pass the `React.createPortal` in `Router` props\");\n  }\n\n  return (el: ReactNode) => createPortal(el, portalRoot, key);\n}\n", "import { Link } from \"https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/mod.ts\";\n\nexport const E404 = () => {\n  return (\n    <div className=\"screen e404\">\n      <h2>Ooooooops, nothing here!</h2>\n      <p>\n        <Link to=\"/\">Go back to the homepage</Link>\n      </p>\n    </div>\n  );\n};\n\nexport default E404;\n", "import { Link } from \"https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/mod.ts\";\nimport \"./style.css?module&v=1656958332182\";\n\nexport default function Header() {\n  return (\n    <header>\n      <div>\n        <h1>\n          <a>\n            <Link to=\"/\">\u3067\u3043\u30FC\u306E\u3057\u308A\u3068\u308A</Link>\n          </a>\n        </h1>\n      </div>\n    </header>\n  );\n}\n", "import Header from \"../components/header/index.tsx?v=1656958332182\";\nimport \"../styles/app.css?module&v=1656958332182\";\n\nexport const App = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <>\n      <Header />\n      {children}\n    </>\n  );\n};\n\nexport default App;\n", "import { Head, useData, Link } from \"https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/mod.ts\";\nimport { useCallback, useEffect, useRef, useState } from \"https://esm.sh/react@18.1.0\";\nimport { Button } from \"../components/button/index.tsx?v=1656958332182\";\nimport { Modal } from \"../components/modal/index.tsx?v=1656958332182\";\nimport \"../styles/game.css?module&v=1656958332182\";\n\nexport type Word = {\n  id: number;\n  message: string;\n};\n\nexport type Store = {\n  words: Word[];\n};\n\nconst changeLastChar = (e: string) => {\n  let lastChar = \"\";\n  if (e.slice(-1) === \"\u30FC\") {\n    lastChar = e.slice(-2).slice(0, 1);\n  } else {\n    lastChar = e.slice(-1);\n  }\n  if (lastChar === \"\u3041\") {\n    return \"\u3042\";\n  } else if (lastChar === \"\u3043\") {\n    return \"\u3044\";\n  } else if (lastChar === \"\u3045\") {\n    return \"\u3046\";\n  } else if (lastChar === \"\u3047\") {\n    return \"\u3048\";\n  } else if (lastChar === \"\u3049\") {\n    return \"\u304A\";\n  } else if (lastChar === \"\u3063\") {\n    return \"\u3064\";\n  } else if (lastChar === \"\u3083\") {\n    return \"\u3084\";\n  } else if (lastChar === \"\u3085\") {\n    return \"\u3086\";\n  } else if (lastChar === \"\u3087\") {\n    return \"\u3088\";\n  } else if (lastChar === \"\u308E\") {\n    return \"\u308F\";\n  }\n  return lastChar;\n};\n\nconst getRandomInt = (max: number) => {\n  return Math.floor(Math.random() * max);\n};\n\nconst randomWords = [\"\u3057\u308A\u3068\u308A\", \"\u3067\u3043\u30FC\u306E\", \"\u3058\u3050\", \"\u3081\u304C\u306D\", \"\u3055\u3070\u3048\"];\n\nconst INITIAL_STORE: Store = {\n  words: [{ id: 0, message: randomWords[getRandomInt(randomWords.length)] }],\n};\n\nconst store: Store = {\n  words: JSON.parse(\n    window.localStorage?.getItem(\"words\") || JSON.stringify(INITIAL_STORE.words)\n  ),\n};\n\nexport const data: Data<Store, Store> = {\n  cacheTtl: 0, // no cache\n  get: () => {\n    if (store.words.length == 0) {\n      return INITIAL_STORE;\n    }\n    return store;\n  },\n  put: async (req) => {\n    const { message } = await req.json();\n    if (typeof message === \"string\") {\n      store.words.push({ id: Date.now(), message });\n      window.localStorage?.setItem(\"words\", JSON.stringify(store.words));\n    }\n    return store;\n  },\n  patch: async (req) => {\n    const { id, message } = await req.json();\n    const word = store.words.find((word) => word.id === id);\n    if (word) {\n      if (typeof message === \"string\") {\n        word.message = message;\n      }\n      window.localStorage?.setItem(\"words\", JSON.stringify(store.words));\n    }\n    return store;\n  },\n  delete: () => {\n    store.words = [\n      { id: 0, message: randomWords[getRandomInt(randomWords.length)] },\n    ];\n    window.localStorage?.setItem(\"words\", JSON.stringify(store.words));\n    return store;\n  },\n};\n\nexport const Game = () => {\n  const step = 3;\n  const limitCount = 5;\n  const intervalRef: { current: number | null | undefined } = useRef(null);\n  const {\n    data: { words },\n    isMutating,\n    mutation,\n  } = useData<Store>();\n  const [displayWordList, setDisplayWordList] = useState<string[]>([]);\n  const [showRule, setShowRule] = useState(true);\n  const [showGameOver, setShowGameOver] = useState(false);\n  const [gameEnd, setGameEnd] = useState(false);\n  const [count, setCount] = useState(limitCount);\n  const [mostLongConnect, setMostLongConnect] = useState(0);\n  useEffect(() => {\n    if (words.length > 0) {\n      setDisplayWordList(words.map((word) => word.message).slice(-step));\n    }\n  }, []);\n  useEffect(() => {\n    if (count === 0) {\n      gameOver();\n    }\n  }, [count]);\n\n  const startCount = useCallback(() => {\n    if (intervalRef.current !== null) {\n      return;\n    }\n    intervalRef.current = setInterval(() => {\n      setCount((c) => c - 1);\n    }, 1000);\n  }, []);\n\n  const stopCount = useCallback(() => {\n    if (intervalRef.current === null) {\n      return;\n    }\n    clearInterval(intervalRef.current);\n    intervalRef.current = null;\n  }, []);\n\n  const resetCount = () => {\n    setCount(limitCount);\n    startCount();\n  };\n\n  const gameOver = () => {\n    setShowGameOver(true);\n    setGameEnd(true);\n    stopCount();\n  };\n\n  const restart = () => {\n    mutation.delete(undefined, \"replace\");\n    setDisplayWordList(INITIAL_STORE.words.map((word) => word.message));\n    setGameEnd(false);\n    stopCount();\n    if (mostLongConnect < words.length) {\n      setMostLongConnect(words.length);\n    }\n  };\n\n  return (\n    <div className=\"screen game\">\n      <Head>\n        <title>Game</title>\n        <meta\n          name=\"description\"\n          content=\"\u3053\u3068\u3070\u3067\u3042\u305D\u307C\u3046!!\n          \u3044\u307E\u3059\u3050\u3057\u308A\u3068\u308A!!\"\n        />\n      </Head>\n      <div className=\"game-contents-container\">\n        <div className=\"words-contents-container\">\n          {words.length > 0 && (\n            <div className=\"recent-words-container\">\n              {words.length > 1 && (\n                <div className=\"container\">\n                  <div className=\"recent-words\">\n                    {displayWordList.map((word, i) => (\n                      <p className=\"recent-word\">\n                        {words.length - displayWordList.length + i} {word}\n                      </p>\n                    ))}\n                  </div>\n                  <div className=\"timer\">\n                    <p className=\"time\">\n                      \u3042\u3068\n                      <br />\n                      <span>{count}</span>\n                      \u3073\u3087\u3046\n                    </p>\n                  </div>\n                </div>\n              )}\n              <p className=\"most-recent-word\">\n                {words.length} <span>{words.slice(-1)[0].message}</span>\n              </p>\n            </div>\n          )}\n        </div>\n        <div className=\"operation-conatainer\">\n          {gameEnd === false && (\n            <form\n              onSubmit={async (e) => {\n                e.preventDefault();\n                const form = e.currentTarget;\n                const fd = new FormData(form);\n                const message = fd.get(\"message\")?.toString().trim();\n                const firstChar = (message ?? \"\").charAt(0);\n                const lastChar = changeLastChar(words.slice(-1)[0].message);\n                if (words.map((word) => word.message).includes(message ?? \"\")) {\n                  return gameOver();\n                }\n                if (/[\u3093]$/.test(message ?? \"\")) {\n                  return gameOver();\n                }\n                if (/[^\u3041-\u3093\u30FC]/.test(message ?? \"\")) {\n                  return alert(\"\u3072\u3089\u304C\u306A\u3092\u3064\u304B\u3063\u3066\u306D\\n\");\n                }\n                if (firstChar !== lastChar) {\n                  return alert(\"\u307E\u3048\u306E\u3053\u3068\u3070\u306B\u3064\u306A\u304C\u3063\u3066\u306A\u3044\u3088\");\n                }\n                if ((message ?? \"\").length < 2) {\n                  alert(\"\u305D\u308C\u306F\u305A\u308B\u3044\u304B\u3089\u3084\u3081\u3066\u307B\u3057\u3044\u306A\u3041\u2026\");\n                }\n                if (message) {\n                  await mutation.put(\n                    { message },\n                    {\n                      // optimistic update data without waiting for the server response\n                      optimisticUpdate: (data) => ({\n                        words: [...data.words, { id: Date.now(), message }],\n                      }),\n                      // replace the data with the new data that is from the server response\n                      replace: true,\n                    }\n                  );\n                  setDisplayWordList(\n                    words.map((word) => word.message).slice(-step)\n                  );\n                  resetCount();\n                  form.reset();\n                  setTimeout(() => {\n                    form.querySelector(\"input\")?.focus();\n                  }, 0);\n                }\n              }}\n            >\n              <input\n                type=\"text\"\n                name=\"message\"\n                placeholder=\"\u3064\u304E\u306E\u3053\u3068\u3070\u3092\u306B\u3085\u3046\u308A\u3087\u304F\u3057\u3066\u306D\"\n                autoFocus\n                autoComplete=\"off\"\n                disabled={!!isMutating}\n              />\n            </form>\n          )}\n          <div className=\"buttons\">\n            <Button onClick={restart}>\n              <Link role=\"button\" to=\"/game\">\n                \u306F\u3058\u3081\u304B\u3089\n              </Link>\n            </Button>\n            <Button onClick={() => setShowRule(true)}>\n              <a>\u308B\u30FC\u308B</a>\n            </Button>\n          </div>\n        </div>\n      </div>\n      <Modal\n        title=\"\u308B\u30FC\u308B\"\n        content={\n          <div>\n            <p>\n              \u3072\u3089\u304C\u306A\u3057\u304B\u3064\u304B\u3063\u3066\u306F\u3044\u3051\u307E\u305B\u3093\uFF0E\n              <br />\n              <br />\n              \u304D\u3054\u3046\u3084\u3053\u3082\u3058\u3067\u304A\u3063\u308F\u305F\u3089\n              <br />\n              \u201C\u3066\u304F\u306E\u308D\u3058\u30FC\u201D\n              <br />\n              \u201D\u3058\u3057\u3087\u201D\n              <br />\n              \u201D\u3088\u3046\u304B\u3093\u201D\n              <br />\n              \u306E\u3088\u3046\u306B\u3061\u3087\u304F\u305C\u3093\u306E\u3082\u3058\u3084\n              <br />\n              \u3053\u3082\u3058\u3092\u304A\u304A\u304D\u304F\u3057\u305F\u3082\u3058\u304B\u3089\u3064\u3065\u3051\u307E\u3057\u3087\u3046\uFF0E\n              <br />\n              <br />\n              \u306A\u3093\u3068\u306A\u304F1\u3082\u3058\u306E\u3053\u3068\u3070\u306F\n              <br />\n              \u305A\u308B\u3044\u304D\u304C\u3059\u308B\u306E\u3067\u3055\u3051\u3066\u304F\u3060\u3055\u3044\uFF0E\n              <br />\n              <br />\n              \u3064\u304E\u306E\u3053\u3068\u3070\u3092\u3053\u305F\u3048\u308B\u307E\u3067\u306E\n              <br />\n              \u305B\u3044\u3052\u3093\u3058\u304B\u3093\u306F{limitCount}\u3073\u3087\u3046\u3067\u3059\uFF0E\n              <br />\n              <br />\n              \u304A\u306A\u3058\u3053\u3068\u3070\u306F1\u304B\u3044\u3060\u3051\uFF0E\n              <br />\n              <br />\n              \u304C\u3093\u3070\u3063\u3066\u306D\uFF0E\n            </p>\n          </div>\n        }\n        show={showRule}\n        setShow={setShowRule}\n      />\n      <Modal\n        title=\"\u3052\u30FC\u3080\u304A\u30FC\u3070\u30FC\"\n        content={\n          <div>\n            <p>\n              {words.length}\u304B\u3044\u3082\u3064\u3065\u3044\u305F\u3088!\n              <br />\n              <br />\n              \u3044\u307E\u307E\u3067\u306E\u3055\u3044\u3053\u3046\u304D\u308D\u304F\u306F{mostLongConnect}\u304B\u3044!\n              <br />\n              <br />\n              {mostLongConnect <= words.length && (\n                <p>\n                  \u304A\u3081\u3067\u3068\u3046!\n                  <br />\n                  <br />\n                </p>\n              )}\n              \u307E\u305F\u3042\u305D\u3093\u3067\u306D\uFF0E\n            </p>\n            <div className=\"game-over-buttons\">\n              <Button\n                onClick={() => {\n                  setShowGameOver(false);\n                  restart();\n                }}\n              >\n                <a>\u306F\u3058\u3081\u304B\u3089</a>\n              </Button>\n              <Button onClick={restart}>\n                <Link role=\"button\" to=\"/\">\n                  \u3052\u30FC\u3080\u3068\u3063\u3077\u3078\n                </Link>\n              </Button>\n            </div>\n          </div>\n        }\n        show={showGameOver}\n        setShow={setShowGameOver}\n      />\n    </div>\n  );\n};\n\nexport default Game;\n", "import { ButtonHTMLAttributes, DetailedHTMLProps } from \"https://esm.sh/react@18.1.0\";\nimport \"./style.css?module&v=1656958332182\";\n\ntype ButtonHTMLProps = DetailedHTMLProps<\n  ButtonHTMLAttributes<HTMLButtonElement>,\n  HTMLButtonElement\n>;\n\nexport const Button: React.VFC<ButtonHTMLProps> = ({\n  children,\n  onClick,\n  className,\n}) => {\n  return (\n    <button onClick={onClick} className={className}>\n      {children}\n    </button>\n  );\n};\n", "import \"./style.css?module&v=1656958332182\";\n\nexport type ModalProps = {\n  show: boolean;\n  setShow: React.Dispatch<React.SetStateAction<boolean>>;\n  title: string;\n  content: JSX.Element;\n};\n\nexport const Modal: React.VFC<ModalProps> = ({\n  show,\n  setShow,\n  title,\n  content,\n}) => {\n  const onClose = () => {\n    setShow(false);\n  };\n  if (show) {\n    return (\n      <div className=\"overlay\" onClick={onClose}>\n        <div className=\"body\" onClick={(e) => e.stopPropagation()}>\n          <div className=\"header\">\n            <div className=\"title\">{title}</div>\n            <div className=\"close\" onClick={onClose}>\n              <img\n                src=\"../../public/close.svg\"\n                width=\"20\"\n                height=\"20\"\n                title=\"closeIcon\"\n              />\n            </div>\n          </div>\n          <div className=\"content\">{content}</div>\n        </div>\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n", "import { Head, Link } from \"https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/mod.ts\";\nimport { useEffect } from \"https://esm.sh/react@18.1.0\";\nimport { Button } from \"../components/button/index.tsx?v=1656958332182\";\nimport \"../styles/index.css?module&v=1656958332182\";\n\nexport const Index = () => {\n  useEffect(() => {\n    const fn = async () => {\n      const response = await fetch(\"/api/user\");\n      const data = await response.json();\n      console.log(data);\n    };\n    fn();\n  }, []);\n  return (\n    <div className=\"screen index\">\n      <Head>\n        <title>deno-shiritori</title>\n        <meta\n          name=\"description\"\n          content=\"\u3067\u3043\u30FC\u306E\u3057\u308A\u3068\u308A\u3078\u3088\u3046\u3053\u305D\uFF0E\n          \u3053\u3053\u3067\u306F\u3072\u3089\u304C\u306A\u3057\u304B\u3064\u304B\u3048\u307E\u305B\u3093\uFF0E\u3044\u3063\u3057\u3087\u306B\u3057\u308A\u3068\u308A\u3067\u3042\u305D\u3073\u307E\u3057\u3087\u3046\uFF0E\"\n        />\n      </Head>\n      <div className=\"top-contents-container\">\n        <div className=\"top-message\">\n          <h1>\u3053\u3068\u3070\u3067\u3042\u305D\u307C\u3046</h1>\n          <p>\n            \u3067\u3043\u30FC\u306E\u3057\u308A\u3068\u308A\u3078\u3088\u3046\u3053\u305D\n            <br /> \u3053\u3053\u3067\u306F\u3072\u3089\u304C\u306A\u3057\u304B\u3064\u304B\u3048\u307E\u305B\u3093\n            <br /> \u3044\u3063\u3057\u3087\u306B\u3057\u308A\u3068\u308A\u3067\u3042\u305D\u3073\u307E\u3057\u3087\u3046\n          </p>\n        </div>\n        <Button>\n          <Link role=\"button\" to=\"/game\">\n            \u3052\u30FC\u3080\u3059\u305F\u30FC\u3068\n          </Link>\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Index;\n", "import type { APIHandler } from \"https://deno.land/x/aleph/types.d.ts\";\n\nexport const handler: APIHandler = ({ response: Response }) => {\n  response.json({ name: \"Aleph\" });\n};\n", "import type { ConnInfo, ServeInit } from \"https://deno.land/std@0.144.0/http/server.ts\";\nimport { serve as stdServe, serveTls } from \"https://deno.land/std@0.144.0/http/server.ts\";\nimport { readableStreamFromReader } from \"https://deno.land/std@0.144.0/streams/conversion.ts\";\nimport { generateErrorHtml, TransformError } from \"../framework/core/error.ts\";\nimport type { RouteTable } from \"../framework/core/route.ts\";\nimport log, { LevelName } from \"../lib/log.ts\";\nimport { getContentType } from \"../lib/mime.ts\";\nimport util from \"../lib/util.ts\";\nimport { createContext } from \"./context.ts\";\nimport type { SessionOptions } from \"./session.ts\";\nimport { DependencyGraph } from \"./graph.ts\";\nimport {\n  fixResponse,\n  getAlephPkgUri,\n  getDeploymentId,\n  globalIt,\n  initModuleLoaders,\n  loadImportMap,\n  loadJSXConfig,\n  regFullVersion,\n  setCookieHeader,\n  toLocalPath,\n} from \"./helpers.ts\";\nimport { loadAndFixIndexHtml } from \"./html.ts\";\nimport renderer, { type SSR } from \"./renderer.ts\";\nimport { fetchRouteData, initRoutes, revive } from \"./routing.ts\";\nimport clientModuleTransformer from \"./transformer.ts\";\nimport type { AlephConfig, FetchHandler, Middleware } from \"./types.ts\";\n\nexport type ServerOptions = Omit<ServeInit, \"onError\"> & {\n  certFile?: string;\n  keyFile?: string;\n  logLevel?: LevelName;\n  session?: SessionOptions;\n  middlewares?: Middleware[];\n  fetch?: FetchHandler;\n  ssr?: SSR;\n  onError?: ErrorCallback;\n} & AlephConfig;\n\nexport type ErrorCallback = {\n  (\n    error: unknown,\n    cause: {\n      by: \"route-data-fetch\" | \"ssr\" | \"transplie\" | \"fs\" | \"middleware\";\n      url: string;\n      context?: Record<string, unknown>;\n    },\n  ): Response | void;\n};\n\nexport const serve = (options: ServerOptions = {}) => {\n  const { routes, unocss, build, devServer, middlewares, fetch, ssr, logLevel, onError } = options;\n  const isDev = Deno.env.get(\"ALEPH_ENV\") === \"development\";\n\n  // server handler\n  const handler = async (req: Request, connInfo: ConnInfo): Promise<Response> => {\n    const url = new URL(req.url);\n    const { pathname, searchParams } = url;\n\n    // close the hot-reloading websocket connection and tell the client to reload\n    // this request occurs when the client try to connect to the hot-reloading websocket in production mode\n    if (pathname === \"/-/hmr\") {\n      const { socket, response } = Deno.upgradeWebSocket(req, {});\n      socket.addEventListener(\"open\", () => {\n        socket.send(JSON.stringify({ type: \"reload\" }));\n        setTimeout(() => {\n          socket.close();\n        }, 50);\n      });\n      return response;\n    }\n\n    const postMiddlewares: Middleware[] = [];\n    const customHTMLRewriter: [selector: string, handlers: HTMLRewriterHandlers][] = [];\n    const ctx = createContext(req, { connInfo, customHTMLRewriter });\n\n    // use eager middlewares\n    if (Array.isArray(middlewares)) {\n      for (let i = 0, l = middlewares.length; i < l; i++) {\n        const mw = middlewares[i];\n        const handler = mw.fetch;\n        if (typeof handler === \"function\") {\n          if (mw.eager) {\n            try {\n              let res = handler(req, ctx);\n              if (res instanceof Promise) {\n                res = await res;\n              }\n              if (res instanceof Response) {\n                return res;\n              }\n              if (typeof res === \"function\") {\n                setTimeout(res, 0);\n              }\n            } catch (err) {\n              const res = onError?.(err, { by: \"middleware\", url: req.url, context: ctx });\n              if (res instanceof Response) {\n                return res;\n              }\n              log.error(`[middleare${mw.name ? `(${mw.name})` : \"\"}]`, err);\n              return new Response(generateErrorHtml(err.stack ?? err.message), {\n                status: 500,\n                headers: [[\"Content-Type\", \"text/html\"]],\n              });\n            }\n          } else {\n            postMiddlewares.push(mw);\n          }\n        }\n      }\n    }\n\n    // transform client modules\n    if (clientModuleTransformer.test(pathname)) {\n      try {\n        const importMap = await globalIt(\"__ALEPH_IMPORT_MAP\", loadImportMap);\n        const jsxConfig = await globalIt(\"__ALEPH_JSX_CONFIG\", () => loadJSXConfig(importMap));\n        return await clientModuleTransformer.fetch(req, {\n          importMap,\n          jsxConfig,\n          buildTarget: build?.target,\n          isDev,\n        });\n      } catch (err) {\n        if (err instanceof TransformError) {\n          const alephPkgUri = toLocalPath(getAlephPkgUri());\n          return new Response(\n            `import { showTransformError } from \"${alephPkgUri}/framework/core/error.ts\";showTransformError(${\n              JSON.stringify(err)\n            });`,\n            { headers: [[\"Content-Type\", \"application/javascript\"]] },\n          );\n        }\n        if (!(err instanceof Deno.errors.NotFound)) {\n          log.error(err);\n          return onError?.(err, { by: \"transplie\", url: req.url }) ??\n            new Response(generateErrorHtml(err.stack ?? err.message), {\n              status: 500,\n              headers: [[\"Content-Type\", \"text/html\"]],\n            });\n        }\n      }\n    }\n\n    // use loader to load modules\n    const moduleLoaders = await globalIt(\"__ALEPH_MODULE_LOADERS\", initModuleLoaders);\n    const loader = moduleLoaders.find((loader) => loader.test(pathname));\n    if (loader) {\n      try {\n        const importMap = await globalIt(\"__ALEPH_IMPORT_MAP\", loadImportMap);\n        const jsxConfig = await globalIt(\"__ALEPH_JSX_CONFIG\", () => loadJSXConfig(importMap));\n        return await clientModuleTransformer.fetch(req, {\n          loader: loader,\n          importMap,\n          jsxConfig,\n          buildTarget: build?.target,\n          isDev,\n        });\n      } catch (err) {\n        if (err instanceof TransformError) {\n          const alephPkgUri = toLocalPath(getAlephPkgUri());\n          return new Response(\n            `import { showTransformError } from \"${alephPkgUri}/framework/core/error.ts\";showTransformError(${\n              JSON.stringify(err)\n            });`,\n            { headers: [[\"Content-Type\", \"application/javascript\"]] },\n          );\n        }\n        if (!(err instanceof Deno.errors.NotFound)) {\n          log.error(err);\n          return onError?.(err, { by: \"transplie\", url: req.url }) ??\n            new Response(generateErrorHtml(err.stack ?? err.message), {\n              status: 500,\n              headers: [[\"Content-Type\", \"text/html\"]],\n            });\n        }\n      }\n    }\n\n    // serve static files\n    const contentType = getContentType(pathname);\n    if (!pathname.startsWith(\"/.\") && contentType !== \"application/octet-stream\") {\n      try {\n        let filePath = `.${pathname}`;\n        let stat = await Deno.lstat(filePath);\n        if (stat.isDirectory && pathname !== \"/\") {\n          filePath = `${util.trimSuffix(filePath, \"/\")}/index.html`;\n          stat = await Deno.lstat(filePath);\n        }\n        if (stat.isFile) {\n          const headers = new Headers({ \"Content-Type\": contentType });\n          const deployId = getDeploymentId();\n          let etag: string | null = null;\n          if (deployId) {\n            etag = `W/${btoa(pathname).replace(/[^a-z0-9]/g, \"\")}-${deployId}`;\n          } else {\n            const { mtime, size } = stat;\n            if (mtime) {\n              etag = `W/${mtime.getTime().toString(16)}-${size.toString(16)}`;\n              headers.append(\"Last-Modified\", new Date(mtime).toUTCString());\n            }\n          }\n          if (etag) {\n            if (req.headers.get(\"If-None-Match\") === etag) {\n              return new Response(null, { status: 304 });\n            }\n            headers.append(\"ETag\", etag);\n          }\n          if (searchParams.get(\"v\") || regFullVersion.test(pathname)) {\n            headers.append(\"Cache-Control\", \"public, max-age=31536000, immutable\");\n          }\n          const file = await Deno.open(filePath, { read: true });\n          return new Response(readableStreamFromReader(file), { headers });\n        }\n      } catch (err) {\n        if (!(err instanceof Deno.errors.NotFound)) {\n          log.error(err);\n          return onError?.(err, { by: \"fs\", url: req.url }) ??\n            new Response(generateErrorHtml(err.stack ?? err.message), {\n              status: 500,\n              headers: [[\"Content-Type\", \"text/html\"]],\n            });\n        }\n      }\n    }\n\n    // use post middlewares\n    for (const mw of postMiddlewares) {\n      try {\n        let res = mw.fetch(req, ctx);\n        if (res instanceof Promise) {\n          res = await res;\n        }\n        if (res instanceof Response) {\n          return res;\n        }\n        if (typeof res === \"function\") {\n          setTimeout(res, 0);\n        }\n      } catch (err) {\n        const res = onError?.(err, { by: \"middleware\", url: req.url, context: ctx });\n        if (res instanceof Response) {\n          return res;\n        }\n        log.error(`[middleare${mw.name ? `(${mw.name})` : \"\"}]`, err);\n        return new Response(generateErrorHtml(err.stack ?? err.message), {\n          status: 500,\n          headers: [[\"Content-Type\", \"text/html\"]],\n        });\n      }\n    }\n\n    // use the `fetch` handler if available\n    if (typeof fetch === \"function\") {\n      return fetch(req, ctx);\n    }\n\n    // request route api\n    const routeTable: RouteTable = await globalIt(\n      \"__ALEPH_ROUTES\",\n      () => routes ? initRoutes(routes) : Promise.resolve({ routes: [] }),\n    );\n    if (routeTable.routes.length > 0) {\n      const reqData = req.method === \"GET\" &&\n        (url.searchParams.has(\"_data_\") || req.headers.get(\"Accept\") === \"application/json\");\n      try {\n        const resp = await fetchRouteData(routeTable.routes, url, req, ctx, reqData);\n        if (resp) {\n          return resp;\n        }\n      } catch (err) {\n        // javascript syntax error\n        if (err instanceof TypeError && !reqData) {\n          return new Response(generateErrorHtml(err.stack ?? err.message), {\n            status: 500,\n            headers: [[\"Content-Type\", \"text/html\"]],\n          });\n        }\n\n        // use the `onError` if available\n        const res = onError?.(err, { by: \"route-data-fetch\", url: req.url, context: ctx });\n        if (res instanceof Response) {\n          return fixResponse(res, ctx.headers, reqData);\n        }\n\n        // user throw a response\n        if (err instanceof Response) {\n          return fixResponse(err, ctx.headers, reqData);\n        }\n\n        // prints the error stack\n        if (err instanceof Error || typeof err === \"string\") {\n          log.error(err);\n        }\n\n        // return the error as a json\n        const status: number = util.isUint(err.status ?? err.code) ? err.status ?? err.code : 500;\n        return Response.json({ ...err, status, message: err.message ?? String(err), stack: err.stack }, {\n          status,\n          headers: ctx.headers,\n        });\n      }\n    }\n\n    // don't render those special asset files\n    switch (pathname) {\n      case \"/favicon.ico\":\n      case \"/robots.txt\":\n        return new Response(\"Not found\", { status: 404 });\n    }\n\n    try {\n      const importMap = await globalIt(\"__ALEPH_IMPORT_MAP\", loadImportMap);\n      const indexHtml = await globalIt(\"__ALEPH_INDEX_HTML\", () =>\n        loadAndFixIndexHtml({\n          isDev,\n          importMap,\n          ssr: typeof ssr === \"function\" ? {} : ssr,\n          hmrWebSocketUrl: options.devServer?.hmrWebSocketUrl,\n        }));\n      return renderer.fetch(req, ctx, {\n        indexHtml,\n        routeTable,\n        customHTMLRewriter,\n        isDev,\n        ssr,\n      });\n    } catch (err) {\n      if (err instanceof Response) {\n        return err;\n      }\n      let message: string;\n      if (err instanceof Error) {\n        message = err.stack as string;\n        log.error(\"SSR\", err);\n      } else {\n        message = err?.toString?.() || String(err);\n      }\n      const cc = ssr && typeof ssr !== \"function\" ? ssr.cacheControl : \"public\";\n      ctx.headers.append(\"Cache-Control\", `${cc}, max-age=0, must-revalidate`);\n      ctx.headers.append(\"Content-Type\", \"text/html; charset=utf-8\");\n      return new Response(generateErrorHtml(message, \"SSR\"), { headers: ctx.headers });\n    }\n  };\n\n  // set log level if specified\n  if (logLevel) {\n    log.setLevel(logLevel);\n  }\n\n  // inject global objects\n  Reflect.set(globalThis, \"__ALEPH_CONFIG\", { routes, unocss, build, devServer });\n  Reflect.set(globalThis, \"__ALEPH_CLIENT_DEP_GRAPH\", new DependencyGraph());\n\n  const { hostname, port = 8080, certFile, keyFile, signal } = options;\n  if (Deno.env.get(\"ALEPH_CLI\")) {\n    Reflect.set(globalThis, \"__ALEPH_SERVER\", { hostname, port, certFile, keyFile, handler, signal });\n  } else {\n    if (certFile && keyFile) {\n      serveTls(handler, { hostname, port, certFile, keyFile, signal });\n    } else {\n      stdServe(handler, { hostname, port, signal });\n    }\n    log.info(`Server ready on http://localhost:${port}`);\n  }\n};\n\nexport { revive, setCookieHeader };\n", "import { readableStreamFromReader } from \"https://deno.land/std@0.144.0/streams/conversion.ts\";\nimport log from \"../lib/log.ts\";\nimport { builtinModuleExts, getDeploymentId, regFullVersion } from \"./helpers.ts\";\nimport type { AlephConfig } from \"./types.ts\";\n\nexport default {\n  test: (pathname: string) => {\n    return pathname.startsWith(\"/-/\") ||\n      (builtinModuleExts.find((ext) => pathname.endsWith(`.${ext}`)) && !pathname.endsWith(\".d.ts\")) ||\n      pathname.endsWith(\".css\");\n  },\n  fetch: async (req: Request): Promise<Response> => {\n    const config: AlephConfig | undefined = Reflect.get(globalThis, \"__ALEPH_CONFIG\");\n    const outputDir = config?.build?.outputDir ?? \"dist\";\n    const { pathname, searchParams } = new URL(req.url);\n\n    switch (pathname) {\n      case \"/server.js\":\n      case \"/server.js.map\":\n      case \"/server_dependency_graph.js\":\n        return new Response(\"Not Found\", { status: 404 });\n    }\n\n    try {\n      let filePath = `./${outputDir}${pathname}`;\n      let ctype = \"application/javascript; charset=utf-8\";\n      if (\n        searchParams.has(\"module\") ||\n        (pathname.startsWith(\"/-/esm.sh/\") && !pathname.endsWith(\".js\") && !pathname.endsWith(\".css\"))\n      ) {\n        filePath += \".js\";\n      }\n      if (pathname.endsWith(\".css\") && !searchParams.has(\"module\")) {\n        ctype = \"text/css; charset=utf-8\";\n      }\n      const headers = new Headers({ \"Content-Type\": ctype });\n      const deployId = getDeploymentId();\n      let etag: string | null = null;\n      if (deployId) {\n        etag = `W/${btoa(pathname).replace(/[^a-z0-9]/g, \"\")}-${deployId}`;\n      } else {\n        const stat = await Deno.lstat(filePath);\n        if (!stat.isFile) {\n          return new Response(\"Not Found\", { status: 404 });\n        }\n        const { mtime, size } = stat;\n        if (mtime) {\n          etag = `W/${mtime.getTime().toString(16)}-${size.toString(16)}`;\n          headers.append(\"Last-Modified\", new Date(mtime).toUTCString());\n        }\n      }\n      if (etag && req.headers.get(\"If-None-Match\") === etag) {\n        return new Response(null, { status: 304 });\n      }\n      const file = await Deno.open(filePath, { read: true });\n      if (etag) {\n        headers.append(\"Etag\", etag);\n      }\n      if (searchParams.get(\"v\") || (pathname.startsWith(\"/-/\") && regFullVersion.test(pathname))) {\n        headers.append(\"Cache-Control\", \"public, max-age=31536000, immutable\");\n      }\n      return new Response(readableStreamFromReader(file), { headers });\n    } catch (err) {\n      if (err instanceof Deno.errors.NotFound) {\n        return new Response(\"Not Found\", { status: 404 });\n      }\n      log.error(err);\n      return new Response(\"Internal Server Error\", { status: 500 });\n    }\n  },\n};\n", "import { App } from \"https://deno.land/x/aleph@1.0.0-alpha.71/framework/react/mod.ts\";\nimport { serve } from \"https://deno.land/x/aleph@1.0.0-alpha.71/server/mod.ts\";\nimport { renderToReadableStream } from \"https://esm.sh/react-dom@18.1.0/server\";\n\nserve({\n  routes: \"./src/pages/**/*.{tsx,ts}\",\n  ssr: {\n    // when set `dataDefer` to `true`, the router will loading data as defer\n    // please check https://alephjs.org/docs/react/router/data-defer\n    dataDefer: false,\n    render: (ctx) => renderToReadableStream(<App ssrContext={ctx} />, ctx),\n  },\n});\n"],
  "mappings": "AAAA,2CCAA,4FACA,6CAEA,oFCFA,0JACA,8FCDA,6DAUO,GAAM,GAAgB,GAAkC,CAC7D,IAAK,GAAI,KAAI,mBAAmB,EAChC,OAAQ,CAAC,CACX,CAAC,EACD,EAAc,YAAc,gBAyBrB,GAAM,GAAc,GAAgC,CACzD,KAAM,OACN,WAAY,GACZ,SAAU,CACR,KAAM,IAAM,QAAQ,QAAQ,GAAI,UAAS,IAAI,CAAC,EAC9C,IAAK,IAAM,QAAQ,QAAQ,GAAI,UAAS,IAAI,CAAC,EAC7C,MAAO,IAAM,QAAQ,QAAQ,GAAI,UAAS,IAAI,CAAC,EAC/C,OAAQ,IAAM,QAAQ,QAAQ,GAAI,UAAS,IAAI,CAAC,CAClD,EACA,OAAQ,IAAM,QAAQ,QAAQ,MAAS,CACzC,CAAC,EACD,EAAY,YAAc,cAMnB,GAAM,IAAsB,GAAwC,CACzE,MAAO,CAAC,CACV,CAAC,EACD,GAAoB,YAAc,sBD3C3B,GAAM,IAAsC,CAAC,CAAE,UAAS,YAAW,cAAe,CACvF,GAAM,GAAc,GAAgB,EAC9B,CAAC,EAAM,GAAW,GAAS,IAAM,CACrC,GAAM,GAAS,EAAU,IAAI,CAAO,EACpC,GAAI,EAAQ,CACV,GAAI,MAAO,GAAO,MAAS,WAAY,CACrC,GAAM,GAAM,EAAO,KAAK,EACxB,GAAI,YAAe,SACjB,MAAO,GAAI,KAAK,AAAC,GAAS,CACxB,EAAU,IAAI,EAAS,CAAE,MAAK,CAAC,EAC/B,EAAY,QAAU,CACxB,CAAC,EAAE,MAAM,AAAC,GAAU,CAClB,EAAU,IAAI,EAAS,CAAE,KAAM,CAAM,CAAC,EACtC,EAAY,QAAU,CACxB,CAAC,EAEH,KAAM,IAAI,OAAM,YAAY,gCAAsC,CACpE,CACA,MAAO,GAAO,IAChB,CACA,KAAM,IAAI,OAAM,YAAY,gBAAsB,CACpD,CAAC,EACK,CAAC,EAAY,GAAiB,GAA+B,EAAK,EAClE,EAAS,GAAY,MAAO,EAAoB,EAA4B,IAA2B,CAC3G,GAAM,GAAiB,GAAU,MAAO,IAAW,UAAY,IAAW,KACpE,EAAa,GAAkB,MAAO,GAAO,kBAAqB,WAClE,EAAU,IAAW,WAAc,GAAkB,CAAC,CAAC,EAAO,QAEhE,EACJ,GAAI,EAAY,CACd,GAAM,GAAmB,EAAO,iBAChC,EAAQ,AAAC,GACH,IAAS,OACX,GAAe,EACR,EAAiB,GAAa,CAAI,CAAC,GAErC,CACR,CACH,CAEA,EAAc,CAAM,EACpB,GAAM,GAAM,KAAM,GAClB,GAAI,EAAI,QAAU,IAAK,CACrB,GAAM,GAAM,KAAM,GAAW,aAAa,CAAG,EACvC,EAAU,EAAI,QACpB,GAAI,EAAI,SAAW,KAAO,MAAO,GAAQ,UAAU,UAAa,SAC9D,gBAAS,KAAO,EAAQ,UAAU,SAC3B,EAGT,GAAI,EACF,MAAI,KAAiB,QACnB,EAAQ,CAAY,EAElB,EAAO,WACT,EAAO,UAAU,CAAG,EAEtB,EAAc,EAAK,EACZ,EAGT,KAAM,EACR,CAEA,GAAI,GAAW,EAAI,GACjB,GAAI,CACF,GAAM,GAAO,KAAM,GAAI,KAAK,EACtB,EAAe,EAAU,IAAI,CAAO,GAAG,aAC7C,EAAU,IAAI,EAAS,CACrB,OACA,eACA,YAAa,KAAK,IAAI,EAAK,IAAgB,GAAK,GAClD,CAAC,EACD,EAAQ,CAAI,CACd,MAAE,CACA,AAAI,GACE,KAAiB,QACnB,EAAQ,CAAY,EAElB,EAAO,WACT,EAAO,UAAU,GAAI,GAAW,IAAK,yBAAyB,CAAC,EAGrE,CAGF,SAAc,EAAK,EACZ,CACT,EAAG,CAAC,CAAO,CAAC,EACN,EAAS,GAAY,KAAO,IAAyB,CACzD,GAAI,CACF,GAAM,GAAM,KAAM,OAAM,EAAW,GAAQ,SAAS,GAAG,EAAI,IAAM,KAAO,SAAU,CAChF,QAAS,CAAC,CAAC,SAAU,kBAAkB,CAAC,EACxC,QACF,CAAC,EAED,GAAI,CAAC,EAAI,GAAI,CACX,GAAM,GAAM,KAAM,GAAW,aAAa,CAAG,EACvC,EAAU,EAAI,QACpB,KAAI,GAAI,SAAW,KAAO,MAAO,GAAQ,UAAU,UAAa,UAC9D,UAAS,KAAO,EAAQ,UAAU,SAClC,KAAM,IAAI,SAAQ,IAAM,CAAC,CAAC,GAEtB,CACR,CAEA,GAAI,CACF,GAAM,GAAO,KAAM,GAAI,KAAK,EACtB,EAAK,EAAI,QAAQ,IAAI,eAAe,EACpC,EAAe,GAAM,EAAG,SAAS,UAAU,EAAI,SAAS,EAAG,MAAM,UAAU,EAAE,EAAE,EAAI,OACnF,EAAc,KAAK,IAAI,EAAK,IAAgB,GAAK,IACvD,EAAU,IAAI,EAAS,CAAE,OAAM,aAAY,CAAC,EAC5C,EAAQ,CAAI,CACd,MAAE,CACA,KAAM,IAAI,GAAW,IAAK,yBAAyB,CACrD,CACF,OAAS,EAAP,CACA,KAAM,IAAI,OAAM,6BAA6B,MAAY,EAAM,SAAS,CAC1E,CACF,EAAG,CAAC,CAAO,CAAC,EACN,EAAW,GAAQ,IAChB,EACL,KAAM,CAAC,EAAgB,IACd,EAAO,OAAQ,GAAK,OAAQ,EAAS,CAAI,EAAG,GAAU,MAAM,EAErE,IAAK,CAAC,EAAgB,IACb,EAAO,MAAO,GAAK,MAAO,EAAS,CAAI,EAAG,GAAU,MAAM,EAEnE,MAAO,CAAC,EAAgB,IACf,EAAO,QAAS,GAAK,QAAS,EAAS,CAAI,EAAG,GAAU,MAAM,EAEvE,OAAQ,CAAC,EAAgB,IAChB,EAAO,SAAU,GAAK,SAAU,EAAS,CAAI,EAAG,GAAU,MAAM,CAE3E,GACC,CAAC,CAAO,CAAC,EAEZ,UAAU,IAAM,CACd,GAAM,GAAM,KAAK,IAAI,EACf,EAAQ,EAAU,IAAI,CAAO,EAC/B,EAA6B,KACjC,MACE,KAAU,QACT,EAAM,OAAS,QAAc,GAAM,cAAgB,QAAa,EAAM,YAAc,GAErF,GAAK,GAAI,iBACT,EAAO,EAAG,MAAM,EAAE,QAAQ,IAAM,CAC9B,EAAK,IACP,CAAC,GACQ,EAAM,OAAS,QACxB,EAAQ,EAAM,IAAI,EAGb,IAAM,GAAI,MAAM,CACzB,EAAG,CAAC,CAAO,CAAC,EAEL,GACL,EAAY,SACZ,CAAE,MAAO,CAAE,cAAa,OAAM,aAAY,WAAU,QAAO,CAAE,EAC7D,CACF,CACF,EAEa,GAAU,IAA6D,CAClF,GAAM,CAAE,cAAa,UAAS,GAAS,GAAW,CAAW,EAC7D,GAAI,YAAgB,OAClB,KAAM,GAER,GAAI,YAAgB,SAAS,CAC3B,GAAI,GAAa,kBAAmB,OAClC,KAAM,GAAY,QAEpB,GAAI,GAAa,UAAY,OAC3B,MAAO,CAAE,GAAG,EAAM,KAAM,EAAY,OAAQ,EAE9C,KAAM,EACR,CACA,MAAO,CAAE,OAAM,GAAG,CAAK,CACzB,EAEA,YAAc,EAAoB,EAAc,EAAkC,CAChF,GAAI,GACE,EAAU,GAAI,SAAQ,CAAC,CAAC,SAAU,kBAAkB,CAAC,CAAC,EAC5D,MAAI,OAAO,IAAS,SAClB,EAAO,EACF,AAAI,MAAO,IAAS,SACzB,EAAO,EAAK,SAAS,EACZ,MAAO,IAAS,UACzB,CAAI,YAAgB,cAAe,YAAgB,aAExC,YAAgB,WAEhB,YAAgB,iBAHzB,EAAO,EAKF,AAAI,YAAgB,MACzB,GAAO,EACP,EAAQ,OAAO,eAAgB,EAAK,IAAI,GAExC,GAAO,KAAK,UAAU,CAAI,EAC1B,EAAQ,OAAO,eAAgB,iCAAiC,IAG7D,MAAM,EAAM,CAAE,SAAQ,OAAM,SAAQ,CAAC,CAC9C,CAEA,YAAyB,EAAW,CAClC,MAAI,KAAQ,MAAQ,MAAO,IAAQ,SAC1B,EAEL,MAAM,QAAQ,CAAG,EACZ,CAAC,GAAG,CAAG,EAET,CAAE,GAAG,CAAI,CAClB,CErOA,+JACA,oEAGO,GAAM,GAAqC,AAAC,GAAU,CAC3D,GAAM,CAAE,qBAAsB,GAAW,CAAa,EAChD,CAAC,EAAK,GAAgB,GAAQ,IAAM,GAAM,EAAM,QAAQ,EAAG,CAC/D,EAAM,QACR,CAAC,EAED,MAAI,IACF,EAAI,QAAQ,CAAC,CAAE,OAAM,WAAY,CAC/B,GAAM,CAAE,cAAa,GAAS,EAC9B,GAAI,IAAS,QACX,AAAI,EAAK,eAAe,CAAQ,EAC9B,EAAkB,KAAK,cAAc,WAAkB,EAC9C,EAAK,cAAc,CAAQ,GACpC,EAAkB,KAAK,cAAc,EAAS,KAAK,EAAE,WAAW,MAE7D,CACL,GAAM,GAAQ,OAAO,QAAQ,CAAI,EAAE,IAAI,CAAC,CAAC,EAAK,KAAW,IAAI,KAAO,KAAK,UAAU,CAAK,GAAG,EACxF,KAAK,EAAE,EACV,AAAI,EAAK,eAAe,CAAQ,EAC9B,EAAkB,KAAK,IAAI,IAAO,SAAa,MAAa,IAAO,EAC9D,AAAI,EAAK,cAAc,CAAQ,EACpC,EAAkB,KAChB,IAAI,IAAO,SAAa,EAAS,KAAK,EAAE,MAAM,IAChD,EAEA,EAAkB,KAAK,IAAI,IAAO,QAAY,CAElD,CACF,CAAC,EAGH,GAAU,IAAM,CACd,GAAM,CAAE,YAAa,OACf,EAAkC,CAAC,EAEzC,MAAI,GAAI,OAAS,GACf,EAAI,QAAQ,CAAC,CAAE,OAAM,WAAY,CAC/B,GAAM,GAAK,EAAS,cAAc,CAAI,EACtC,OAAO,KAAK,CAAK,EAAE,QAAQ,AAAC,GAAQ,CAClC,GAAM,GAAQ,EAAM,GACpB,AAAI,IAAQ,WACV,AAAI,EAAK,eAAe,CAAK,EAC3B,EAAG,UAAY,EACN,EAAK,cAAc,CAAK,GACjC,GAAG,UAAY,EAAM,KAAK,EAAE,GAG9B,EAAG,aAAa,EAAK,OAAO,GAAS,EAAE,CAAC,CAE5C,CAAC,EACD,EAAS,KAAK,YAAY,CAAE,EAC5B,EAAY,KAAK,CAAE,CACrB,CAAC,EAGI,IAAM,CACX,EAAY,QAAQ,AAAC,GAAO,EAAS,KAAK,YAAY,CAAE,CAAC,CAC3D,CACF,EAAG,CAAC,CAAG,CAAC,EAED,GAAc,GAAU,KAAM,GAAG,CAAY,CACtD,EAEA,YACE,EACmE,CACnE,GAAM,GAA0D,CAAC,EAC3D,EAA4B,CAAC,EAC7B,EAAO,AAAC,GAAoB,CAChC,GAAS,QAAQ,EAAM,AAAC,GAAU,CAChC,GAAI,CAAC,GAAe,CAAK,EACvB,OAGF,GAAM,CAAE,OAAM,SAAU,EACxB,OAAQ,OACD,IACH,EAAK,EAAM,QAAQ,EACnB,UAQG,WACA,YACA,WACA,WACA,QAEH,GAAI,CAAC,OAAQ,OAAQ,MAAM,EAAE,SAAS,CAAI,GAAK,YAAc,GAAO,CAClE,GAAM,CAAE,SAAU,KAAM,GAAS,EACjC,EAAI,KAAK,CAAE,OAAM,MAAO,CAAK,CAAC,CAChC,KACE,GAAI,KAAK,CAAE,OAAM,OAAM,CAAC,EAE1B,MAEN,CAAC,CACH,EAEA,SAAK,CAAI,EACF,CAAC,EAAK,CAAY,CAC3B,CC7GA,0HACA,oEACA,kFACA,gGCHA,0JACA,iFACA,+FACA,gGAEA,gGACA,2GCNA,6EAIO,GAAM,IAAN,aAA4B,GAAuD,CACxF,YAAY,EAA2B,CACrC,MAAM,CAAK,EACX,KAAK,MAAQ,CAAE,MAAO,IAAK,CAC7B,CAEA,MAAO,0BAAyB,EAAc,CAC5C,MAAO,CAAE,OAAM,CACjB,CAEA,QAAS,CACP,MAAI,MAAK,MAAM,gBAAiB,OACvB,GAAc,KAAK,MAAM,QAAS,CAAE,MAAO,KAAK,MAAM,KAAM,CAAC,EAG/D,KAAK,MAAM,QACpB,CACF,EAEO,YACL,CAAE,MAAO,CAAE,SAAQ,WAAW,cAC9B,CACA,MAAO,IACL,MACA,CACE,MAAO,EACH,CACA,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,MAAO,QACP,OAAQ,QACR,SAAU,EACZ,EACE,CACA,UAAW,aACX,MAAO,MACP,OAAQ,MACR,OAAQ,OACR,OAAQ,8BACR,gBAAiB,qBACjB,aAAc,MACd,QAAS,cACT,MAAO,MACP,UAAW,QACb,CACJ,EACA,GAAU,GAAc,SAAU,CAAE,MAAO,CAAE,WAAY,KAAM,CAAE,EAAG,CAAM,EAC1E,GAAU,GAAc,QAAS,CAAE,MAAO,CAAE,QAAS,GAAK,QAAS,OAAQ,CAAE,EAAG,GAAG,EACnF,CACF,CACF,CD3CA,GAAM,GAAS,OAiBF,GAA0B,AAAC,GAAU,CAChD,GAAM,CAAE,aAAY,UAAW,EAAe,aAAY,gBAAiB,EACrE,CAAC,EAAK,GAAU,GAAS,IAAM,GAAY,KAAO,GAAI,KAAI,OAAO,UAAU,IAAI,CAAC,EAChF,CAAC,EAAS,GAAc,GAAS,IAAM,GAAY,cAAgB,GAAsB,CAAC,EAC1F,EAAY,GAAQ,IAAM,CAC9B,GAAM,GAAQ,GAAI,KAClB,SAAQ,QAAQ,CAAC,CAAE,MAAK,OAAM,kBAAmB,CAC/C,GAAM,GAAU,EAAI,SAAW,EAAI,OACnC,AAAI,YAAgB,SAClB,EAAM,IAAI,EAAI,KAAM,CAAE,KAAM,GAAkB,EAAO,EAAS,EAAI,CAAE,CAAC,EAErE,EAAM,IAAI,EAAS,CACjB,OACA,eACA,YAAa,KAAK,IAAI,EAAK,IAAgB,GAAK,GAClD,CAAC,CAEL,CAAC,EACM,CACT,EAAG,CAAC,CAAC,EACC,EAAS,GAAQ,IAAM,CAC3B,GAAM,GAAiC,CAAC,EACxC,SAAQ,QAAQ,AAAC,GAAM,CACrB,OAAO,OAAO,EAAQ,EAAE,MAAM,CAChC,CAAC,EACM,CACT,EAAG,CAAC,CAAO,CAAC,EA2JZ,GAzJA,GAAU,IAAM,CACd,GAAM,CAAE,OAAM,QAAS,OAAO,SACxB,EAAe,GAAgB,EAC/B,EAAa,GAAsB,EACnC,EAAY,EAAK,aAAa,YAAY,GAAK,EAC/C,EAAW,EAAK,aAAa,oBAAoB,EAGjD,EAAe,MAAO,CAAE,cAA0B,CACtD,GAAI,GAAM,EAAS,MAAM,CAAC,EAC1B,AAAI,GACF,IAAO,MAAM,KAEf,GAAM,CAAE,QAAS,EAAe,OAAM,OAAQ,KAAM,QAAO,GACrD,EAAW,QAAQ,GAAQ,CAAG,EACpC,SAAa,GAAY,CAAE,gBAAe,UAAS,EAC5C,CAAE,gBAAe,UAAS,CACnC,EAGM,EAAmB,AAAC,GAA+B,CACvD,GAAM,GAAU,GAAI,KAAI,EAAE,KAAgB,SAAS,IAAI,EAEvD,AADgB,GAAY,EAAS,CAAU,EACvC,IAAI,CAAC,CAAC,EAAG,KAAU,CACzB,GAAM,CAAE,YAAa,EACrB,GAAI,CAAE,KAAY,IAAe,CAC/B,GAAM,GAAO,SAAS,cAAc,MAAM,EACtC,EAAO,EAAK,SAAS,MAAM,CAAC,EAChC,AAAI,GACF,IAAQ,MAAM,KAEhB,EAAK,aAAa,MAAO,eAAe,EACxC,EAAK,aAAa,OAAQ,CAAI,EAC9B,SAAS,KAAK,YAAY,CAAI,CAChC,CACF,CAAC,CACH,EAGM,EAAa,KAAO,IAA+B,CACvD,GAAM,GAAO,EAAE,KAA2B,GAAI,KAAI,OAAO,SAAS,IAAI,EAChE,EAAU,GAAY,EAAK,CAAU,EACrC,EAAe,GAAgB,EACjC,EAAyB,WAAW,IAAM,CAC5C,EAAU,KACV,EAAa,MAAM,QAAU,IAC7B,EAAa,MAAM,MAAQ,KAC7B,EAAG,GAAG,EACA,EAAU,KAAM,SAAQ,IAAI,EAAQ,IAAI,MAAO,CAAC,EAAK,KAAU,CACnE,GAAM,CAAE,YAAa,EACf,EAAoB,CACxB,IAAK,GAAI,KAAI,EAAI,SAAS,MAAQ,EAAI,OAAQ,EAAI,IAAI,EACtD,OAAQ,EAAI,SAAS,OACrB,UACF,EACM,EAAU,EAAK,IAAI,SAAW,EAAK,IAAI,OAC7C,GAAI,IAAY,GACd,OAAO,OAAO,EAAM,EAAa,EAAS,MACrC,CACL,GAAM,CAAE,gBAAe,YAAa,KAAM,GAAa,CAAI,EAC3D,OAAO,OAAO,EAAM,CAAE,gBAAe,UAAS,CAAC,CACjD,CACA,MAAI,CAAC,EAAU,IAAI,CAAO,GAAK,EAAa,IAAW,WAAa,IAClE,GAAK,SAAW,GAChB,KAAM,IAAkB,EAAW,EAAS,CAAS,GAEhD,CACT,CAAC,CAAC,EACF,EAAW,CAAO,EAClB,EAAO,CAAG,EACV,WAAW,IAAM,CACf,GAAI,EACF,aAAa,CAAO,EACpB,EAAa,OAAO,MACf,CAGL,GAAM,GAAK,WAAW,IAAM,CAC1B,EAAa,MAAM,QAAU,GAC/B,EAAG,GAAkB,EACf,EAAK,WAAW,IAAM,CAC1B,EAAO,sBAAwB,KAC/B,EAAa,OAAO,CACtB,EAAI,IAAc,IAAe,GAAI,EACrC,EAAO,sBAAwB,IAAM,CACnC,aAAa,CAAE,EACf,aAAa,CAAE,CACjB,EACA,EAAa,MAAM,WAAa,WAAW,uBAAgC,kBAC3E,WAAW,IAAM,CACf,EAAa,MAAM,MAAQ,MAC7B,EAAG,CAAC,CACN,CACF,EAAG,CAAC,EACA,EAAE,KACJ,OAAO,SAAS,EAAG,CAAC,CAExB,EAGM,EAAc,AAAC,GAA+B,CAClD,GAAM,GAAU,EAAE,aAClB,GAAI,EAAS,CACX,GAAM,GAAe,CACnB,GAAI,IAAiB,CAAO,EAC5B,CACE,SAAU,EAAE,UACZ,SACF,CACF,EACM,EAAW,EAAQ,SAAS,MAAM,CAAC,EACzC,AAAI,KAAa,QAAU,IAAa,SACtC,GAAW,GAAY,GAEzB,EAAW,OAAO,KAAK,CAAK,CAC9B,CACF,EAGM,EAAc,AAAC,GAA+B,CAElD,GAAM,GAAY,AADJ,EAAW,OAAO,KAAK,AAAC,GAAM,EAAE,GAAG,WAAa,EAAE,SAAS,IAC/C,GAAG,QAAQ,UAAW,MAAM,CAAC,EACvD,AAAI,KAAa,QAAU,IAAa,SACtC,GAAW,GAAY,QAEzB,EAAW,OAAS,EAAW,OAAO,OAAO,AAAC,GAAM,EAAE,GAAG,UAAY,EAAE,SAAS,EAChF,EAAW,CAAE,KAAM,UAAW,CAAC,CACjC,EAEA,wBAAiB,WAAY,CAAsC,EACnE,EAAO,GAAG,WAAY,CAAU,EAChC,EAAO,GAAG,iBAAkB,CAAgB,EAC5C,EAAO,GAAG,aAAc,CAAW,EACnC,EAAO,GAAG,aAAc,CAAW,EACnC,EAAO,KAAK,cAAe,CAAE,KAAM,aAAc,CAAC,EAGlD,MAAM,KAAK,EAAK,QAAQ,EAAE,QAAQ,AAAC,GAAgB,CACjD,AAAI,EAAG,aAAa,KAAK,GACvB,EAAK,YAAY,CAAE,CAEvB,CAAC,EAGM,IAAM,CACX,oBAAoB,WAAY,CAAsC,EACtE,EAAO,IAAI,WAAY,CAAU,EACjC,EAAO,IAAI,iBAAkB,CAAgB,EAC7C,EAAO,IAAI,aAAc,CAAW,EACpC,EAAO,IAAI,aAAc,CAAW,CACtC,CACF,EAAG,CAAC,CAAC,EAED,EAAQ,SAAW,EACrB,MAAO,GAAc,GAAK,CAAE,MAAO,CAAE,OAAQ,IAAK,QAAS,gBAAiB,EAAG,WAAY,EAAK,CAAC,EAGnG,GAAM,GAAK,EACT,EAAc,SACd,CACE,MAAO,CACL,MACA,SACA,KAAM,EAAQ,EAAQ,OAAS,GAAG,IAAI,WAAa,QAAU,GAAO,OACpE,kBAAmB,GAAY,eAC/B,cACF,CACF,EACA,EAAc,GAAW,CAAE,UAAS,YAAW,YAAW,CAAC,CAC7D,EACA,MAAI,GACK,EAAc,GAAY,CAAC,EAAG,CAAE,EAElC,CACT,EAQM,GAAgC,CAAC,CAAE,UAAS,YAAW,gBAAiB,CAC5E,GAAM,CAAE,MAAK,gBAAe,YAAa,EAAQ,GAC3C,EAAU,EAAI,SAAW,EAAI,OAC/B,EAEJ,MAAI,OAAO,IAAkB,WAC3B,GAAK,EACH,EACA,KACA,EAAQ,OAAS,GAAK,EACpB,GACA,CAAE,QAAS,EAAQ,MAAM,CAAC,EAAG,YAAW,YAAW,CACrD,CACF,EACI,GACF,GAAK,EACH,GACA,CACE,SAAU,IACZ,EACA,EACE,GACA,CACE,YACA,QAAS,EACT,IAAK,CACP,EACA,CACF,CACF,IAGF,EAAK,EAAc,GAAK,CACtB,MAAO,CAAE,OAAQ,IAAK,QAAS,mDAAoD,CACrF,CAAC,EAGI,EAAc,GAAe,CAAE,QAAS,EAAI,EAAG,CAAE,CAC1D,EAGa,GAA2C,AAAC,GAChD,EAAc,GAAQ,CAAE,GAAG,EAAO,WAAY,EAAK,CAAC,EAGhD,GAAY,IAKpB,CACH,GAAM,CAAE,MAAK,SAAQ,QAAS,GAAW,CAAa,EACtD,MAAO,CAAE,MAAK,SAAQ,OAAM,WAAS,CACvC,EAiBA,aAA6C,CAC3C,GAAM,GAAK,OAAO,UAAU,eAAe,iBAAiB,EAC5D,GAAI,EACF,GAAI,CACF,GAAM,GAAW,KAAK,MAAM,EAAG,SAAS,EACxC,GAAI,MAAM,QAAQ,EAAS,MAAM,EAAG,CAClC,GAAI,GACA,EAWJ,MAAO,CAAE,OAVM,EAAS,OAAO,IAAI,AAAC,GAAoB,CACtD,GAAM,CAAE,WAAY,EACd,EAAe,CAAC,GAAI,IAAiB,CAAO,EAAG,CAAI,EACzD,MAAI,GAAQ,WAAa,QACvB,EAAO,EACE,EAAQ,WAAa,SAC9B,GAAO,GAEF,CACT,CAAC,EACgB,OAAM,MAAK,CAC9B,CACF,OAAS,EAAP,CACA,KAAM,IAAI,OAAM,0BAA0B,EAAE,SAAS,CACvD,CAEF,MAAO,CAAE,OAAQ,CAAC,CAAE,CACtB,CAGA,kBAAiC,EAAmC,EAAiB,EAAoB,CACvG,GAAM,GAAgB,CAAC,EACjB,EAAY,SAAY,CAC5B,GAAM,GAAM,KAAM,OAAM,EAAW,GAAQ,SAAS,GAAG,EAAI,IAAM,KAAO,SAAU,CAChF,QAAS,CAAE,OAAU,kBAAmB,CAC1C,CAAC,EACD,GAAI,CAAC,EAAI,GAAI,CACX,GAAM,GAAM,KAAM,IAAW,aAAa,CAAG,EACvC,EAAU,EAAI,QACpB,GAAI,EAAI,SAAW,KAAO,MAAO,GAAQ,UAAU,UAAa,SAAU,CACxE,SAAS,KAAO,EAAQ,UAAU,SAClC,MACF,CACA,MAAO,EACT,CACA,GAAI,CACF,GAAM,GAAO,KAAM,GAAI,KAAK,EACtB,EAAK,EAAI,QAAQ,IAAI,eAAe,EAC1C,SAAG,aAAe,GAAI,SAAS,UAAU,EAAI,SAAS,EAAG,MAAM,UAAU,EAAE,EAAE,EAAI,OACjF,EAAG,YAAc,KAAK,IAAI,EAAK,GAAG,cAAgB,GAAK,IAChD,CACT,MAAE,CACA,MAAO,IAAI,OAAM,yBAAyB,CAC5C,CACF,EACA,AAAI,EACF,EAAG,KAAO,EAEV,EAAG,KAAO,KAAM,GAAU,EAE5B,EAAU,IAAI,EAAS,CAAE,CAC3B,CAEA,aAAgD,CAC9C,GAAM,GAAK,OAAO,UAAU,eAAe,aAAa,EACxD,GAAI,EACF,GAAI,CACF,GAAM,GAAO,KAAK,MAAM,EAAG,SAAS,EACpC,GAAI,MAAM,QAAQ,CAAI,EAAG,CACvB,GAAI,GACE,EAAe,GAAgB,EACrC,MAAO,GAAK,IAAI,CAAC,CAAE,MAAK,WAAU,iBAAgB,KAAW,CAC3D,GAAI,EAAa,CACf,GAAI,IAAgB,OAAW,CAC7B,GAAM,GAAK,OAAO,UAAU,eAAe,cAAc,EACzD,AAAI,EACF,EAAc,KAAK,MAAM,EAAG,SAAS,EAErC,EAAc,IAElB,CACA,AAAI,EACF,EAAK,KAAO,EAAY,GAExB,EAAK,KAAO,QAAQ,QAAQ,IAAI,CAEpC,CACA,MAAI,GAAK,OACP,GAAK,KAAO,GAAI,IAAW,IAAK,EAAK,MAAM,QAAS,CAAE,MAAO,EAAK,MAAM,KAAM,CAAC,EAC/E,EAAK,MAAQ,QAER,CACL,IAAK,GAAI,KAAI,EAAK,SAAS,IAAI,EAC/B,WACA,cAAe,EAAa,GAAU,cACtC,GAAG,CACL,CACF,CAAC,CACH,CACF,OAAS,EAAP,CACA,KAAM,IAAI,OAAM,0BAA0B,EAAE,SAAS,CACvD,CAEF,MAAO,CAAC,CACV,CAEA,aAA4F,CAC1F,MAAO,GAAO,iBAAoB,GAAO,gBAAkB,CAAC,EAC9D,CAEA,aAA2C,CACzC,AAAI,MAAO,GAAO,uBAA0B,YAC1C,GAAO,sBAAsB,EAC7B,EAAO,sBAAwB,MAEjC,GAAI,GAAO,SAAS,eAAe,aAAa,EAChD,MAAK,IACH,GAAM,SAAS,cAAc,KAAK,EAClC,EAAI,GAAK,cACT,SAAS,KAAK,YAAY,CAAG,GAE/B,OAAO,OAAO,EAAI,MAAO,CACvB,SAAU,QACV,IAAK,IACL,KAAM,IACN,OAAQ,OACR,MAAO,IACP,OAAQ,MACR,QAAS,IACT,WAAY,2BACZ,WAAY,wCACd,CAAC,EACM,CACT,CDlbA,GAAM,IAAa,GAAI,KAchB,WAAc,EAAkB,CACrC,GAAM,CACJ,KACA,SAAU,EACV,UACA,YACA,QACA,QAAS,EACT,aAAc,EACd,aAAc,GACb,gBAAiB,EAClB,WACA,cACG,GACD,EACE,CAAE,IAAK,CAAE,aAAe,GAAU,EAClC,EAAO,GAAQ,IAAM,CACzB,GAAI,CAAC,EAAK,eAAe,CAAE,EACzB,KAAM,IAAI,OAAM,gCAAgC,EAElD,GAAI,EAAK,gBAAgB,CAAE,EACzB,MAAO,GAET,GAAI,CAAC,EAAG,GAAK,EAAK,QAAQ,EAAI,GAAG,EACjC,MAAI,GAAE,WAAW,GAAG,EAClB,EAAI,EAAK,UAAU,CAAC,EAEpB,EAAI,EAAK,UAAU,EAAW,IAAM,CAAC,EAEhC,CAAC,EAAG,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,CACxC,EAAG,CAAC,EAAU,CAAE,CAAC,EACX,EAAc,GAAQ,IAAM,CAChC,GAAI,EAAK,eAAe,CAAe,EACrC,MAAO,GAET,GAAI,EAAK,WAAW,GAAG,EACrB,MAAO,MAGX,EAAG,CAAC,EAAM,CAAe,CAAC,EACpB,EAAW,GAAY,IAAM,CACjC,AAAI,CAAC,EAAK,gBAAgB,CAAI,GAAK,CAAC,GAAW,IAAI,CAAI,GACrD,IAAO,KAAK,iBAAkB,CAAE,MAAK,CAAC,EACtC,GAAW,IAAI,CAAI,EAEvB,EAAG,CAAC,CAAI,CAAC,EACH,EAAW,GAAsB,IAAI,EACrC,EAAe,AAAC,GAAkB,CAItC,AAHI,MAAO,IAAqB,YAC9B,EAAiB,CAAC,EAEhB,GAAE,kBAGF,CAAC,EAAS,SAAW,CAAC,GAAW,IAAI,CAAI,GAC3C,GAAS,QAAU,WAAW,IAAM,CAClC,EAAS,QAAU,KACnB,EAAS,CACX,EAAG,GAAG,EAEV,EACM,EAAe,AAAC,GAAkB,CAItC,AAHI,MAAO,IAAqB,YAC9B,EAAiB,CAAC,EAEhB,GAAE,kBAGF,EAAS,SACX,cAAa,EAAS,OAAO,EAC7B,EAAS,QAAU,KAEvB,EACM,EAAU,AAAC,GAAkB,CAIjC,AAHI,MAAO,IAAgB,YACzB,EAAY,CAAC,EAEX,IAAE,kBAAoB,GAAgB,CAAC,IAG3C,GAAE,eAAe,EACjB,GAAS,EAAM,CAAO,EACxB,EAEA,UAAU,IACJ,IACF,EAAS,EAEJ,IAAM,CACX,AAAI,EAAS,SACX,cAAa,EAAS,OAAO,EAC7B,EAAS,QAAU,KAEvB,GACC,CAAC,EAAc,CAAQ,CAAC,EAEpB,GACL,IACA,CACE,GAAG,EACH,YACA,QACA,OACA,UACA,eACA,eACA,eAAgB,EAChB,IAAK,CACP,EACA,CACF,CACF,CAmDA,YAAyB,EAA4B,CACnD,GAAM,CAAE,UAAW,EAAM,cACnB,EAAc,EAAM,YAC1B,MACG,IAAU,IAAW,SACtB,EAAM,SACN,EAAM,SACN,EAAM,UACN,EAAM,QACL,GAAe,EAAY,QAAU,CAE1C,CGjMA,yFCCO,GAAM,IAAO,IAEhB,gBAAC,OAAI,UAAU,eACb,gBAAC,UAAG,0BAAwB,EAC5B,gBAAC,SACC,gBAAC,GAAK,GAAG,KAAI,yBAAuB,CACtC,CACF,EAIG,GAAQ,GCVA,aAAkB,CAC/B,MACE,iBAAC,cACC,gBAAC,WACC,gBAAC,UACC,gBAAC,SACC,gBAAC,GAAK,GAAG,KAAI,kDAAQ,CACvB,CACF,CACF,CACF,CAEJ,CCZO,GAAM,IAAM,CAAC,CAAE,cAElB,gCACE,gBAAC,OAAO,EACP,CACH,EAIG,GAAQ,GCXf,sGCOO,GAAM,GAAqC,CAAC,CACjD,WACA,UACA,eAGE,gBAAC,UAAO,QAAS,EAAS,UAAW,GAClC,CACH,ECPG,GAAM,IAA+B,CAAC,CAC3C,OACA,UACA,QACA,aACI,CACJ,GAAM,GAAU,IAAM,CACpB,EAAQ,EAAK,CACf,EACA,MAAI,GAEA,gBAAC,OAAI,UAAU,UAAU,QAAS,GAChC,gBAAC,OAAI,UAAU,OAAO,QAAS,AAAC,GAAM,EAAE,gBAAgB,GACtD,gBAAC,OAAI,UAAU,UACb,gBAAC,OAAI,UAAU,SAAS,CAAM,EAC9B,gBAAC,OAAI,UAAU,QAAQ,QAAS,GAC9B,gBAAC,OACC,IAAI,yBACJ,MAAM,KACN,OAAO,KACP,MAAM,YACR,CACF,CACF,EACA,gBAAC,OAAI,UAAU,WAAW,CAAQ,CACpC,CACF,EAGK,IAEX,EFzBA,GAAM,IAAiB,AAAC,GAAc,CACpC,GAAI,GAAW,GAMf,MALA,AAAI,GAAE,MAAM,EAAE,IAAM,SAClB,EAAW,EAAE,MAAM,EAAE,EAAE,MAAM,EAAG,CAAC,EAEjC,EAAW,EAAE,MAAM,EAAE,EAEnB,IAAa,SACR,SACE,IAAa,SACf,SACE,IAAa,SACf,SACE,IAAa,SACf,SACE,IAAa,SACf,SACE,IAAa,SACf,SACE,IAAa,SACf,SACE,IAAa,SACf,SACE,IAAa,SACf,SACE,IAAa,SACf,SAEF,CACT,EAEM,GAAe,AAAC,GACb,KAAK,MAAM,KAAK,OAAO,EAAI,CAAG,EAGjC,GAAc,CAAC,2BAAQ,2BAAQ,eAAM,qBAAO,oBAAK,EAEjD,GAAuB,CAC3B,MAAO,CAAC,CAAE,GAAI,EAAG,QAAS,GAAY,GAAa,GAAY,MAAM,EAAG,CAAC,CAC3E,EAEM,EAAe,CACnB,MAAO,KAAK,MACV,OAAO,cAAc,QAAQ,OAAO,GAAK,KAAK,UAAU,GAAc,KAAK,CAC7E,CACF,EAEa,GAA2B,CACtC,SAAU,EACV,IAAK,IACC,EAAM,MAAM,QAAU,EACjB,GAEF,EAET,IAAK,KAAO,IAAQ,CAClB,GAAM,CAAE,WAAY,KAAM,GAAI,KAAK,EACnC,MAAI,OAAO,IAAY,UACrB,GAAM,MAAM,KAAK,CAAE,GAAI,KAAK,IAAI,EAAG,SAAQ,CAAC,EAC5C,OAAO,cAAc,QAAQ,QAAS,KAAK,UAAU,EAAM,KAAK,CAAC,GAE5D,CACT,EACA,MAAO,KAAO,IAAQ,CACpB,GAAM,CAAE,KAAI,WAAY,KAAM,GAAI,KAAK,EACjC,EAAO,EAAM,MAAM,KAAK,AAAC,GAAS,EAAK,KAAO,CAAE,EACtD,MAAI,IACE,OAAO,IAAY,UACrB,GAAK,QAAU,GAEjB,OAAO,cAAc,QAAQ,QAAS,KAAK,UAAU,EAAM,KAAK,CAAC,GAE5D,CACT,EACA,OAAQ,IACN,GAAM,MAAQ,CACZ,CAAE,GAAI,EAAG,QAAS,GAAY,GAAa,GAAY,MAAM,EAAG,CAClE,EACA,OAAO,cAAc,QAAQ,QAAS,KAAK,UAAU,EAAM,KAAK,CAAC,EAC1D,EAEX,EAEa,GAAO,IAAM,CAGxB,GAAM,GAAsD,GAAO,IAAI,EACjE,CACJ,KAAM,CAAE,SACR,aACA,YACE,GAAe,EACb,CAAC,EAAiB,GAAsB,EAAmB,CAAC,CAAC,EAC7D,CAAC,EAAU,GAAe,EAAS,EAAI,EACvC,CAAC,EAAc,GAAmB,EAAS,EAAK,EAChD,CAAC,EAAS,GAAc,EAAS,EAAK,EACtC,CAAC,EAAO,GAAY,EAAS,CAAU,EACvC,CAAC,EAAiB,GAAsB,EAAS,CAAC,EACxD,GAAU,IAAM,CACd,AAAI,EAAM,OAAS,GACjB,EAAmB,EAAM,IAAI,AAAC,GAAS,EAAK,OAAO,EAAE,MAAM,EAAK,CAAC,CAErE,EAAG,CAAC,CAAC,EACL,GAAU,IAAM,CACd,AAAI,IAAU,GACZ,EAAS,CAEb,EAAG,CAAC,CAAK,CAAC,EAEV,GAAM,GAAa,GAAY,IAAM,CACnC,AAAI,EAAY,UAAY,MAG5B,GAAY,QAAU,YAAY,IAAM,CACtC,EAAS,AAAC,GAAM,EAAI,CAAC,CACvB,EAAG,GAAI,EACT,EAAG,CAAC,CAAC,EAEC,EAAY,GAAY,IAAM,CAClC,AAAI,EAAY,UAAY,MAG5B,eAAc,EAAY,OAAO,EACjC,EAAY,QAAU,KACxB,EAAG,CAAC,CAAC,EAEC,EAAa,IAAM,CACvB,EAAS,CAAU,EACnB,EAAW,CACb,EAEM,EAAW,IAAM,CACrB,EAAgB,EAAI,EACpB,EAAW,EAAI,EACf,EAAU,CACZ,EAEM,EAAU,IAAM,CACpB,EAAS,OAAO,OAAW,SAAS,EACpC,EAAmB,GAAc,MAAM,IAAI,AAAC,GAAS,EAAK,OAAO,CAAC,EAClE,EAAW,EAAK,EAChB,EAAU,EACN,EAAkB,EAAM,QAC1B,EAAmB,EAAM,MAAM,CAEnC,EAEA,MACE,iBAAC,OAAI,UAAU,eACb,gBAAC,OACC,gBAAC,aAAM,MAAI,EACX,gBAAC,QACC,KAAK,cACL,QAAQ;AAAA,8DAEV,CACF,EACA,gBAAC,OAAI,UAAU,2BACb,gBAAC,OAAI,UAAU,4BACZ,EAAM,OAAS,GACd,gBAAC,OAAI,UAAU,0BACZ,EAAM,OAAS,GACd,gBAAC,OAAI,UAAU,aACb,gBAAC,OAAI,UAAU,gBACZ,EAAgB,IAAI,CAAC,EAAM,IAC1B,gBAAC,KAAE,UAAU,eACV,EAAM,OAAS,EAAgB,OAAS,EAAE,IAAE,CAC/C,CACD,CACH,EACA,gBAAC,OAAI,UAAU,SACb,gBAAC,KAAE,UAAU,QAAO,eAElB,gBAAC,SAAG,EACJ,gBAAC,YAAM,CAAM,EAAO,oBAEtB,CACF,CACF,EAEF,gBAAC,KAAE,UAAU,oBACV,EAAM,OAAO,IAAC,gBAAC,YAAM,EAAM,MAAM,EAAE,EAAE,GAAG,OAAQ,CACnD,CACF,CAEJ,EACA,gBAAC,OAAI,UAAU,wBACZ,IAAY,IACX,gBAAC,QACC,SAAU,KAAO,IAAM,CACrB,EAAE,eAAe,EACjB,GAAM,GAAO,EAAE,cAET,EAAU,AADL,GAAI,UAAS,CAAI,EACT,IAAI,SAAS,GAAG,SAAS,EAAE,KAAK,EAC7C,EAAa,IAAW,IAAI,OAAO,CAAC,EACpC,EAAW,GAAe,EAAM,MAAM,EAAE,EAAE,GAAG,OAAO,EAI1D,GAHI,EAAM,IAAI,AAAC,GAAS,EAAK,OAAO,EAAE,SAAS,GAAW,EAAE,GAGxD,OAAO,KAAK,GAAW,EAAE,EAC3B,MAAO,GAAS,EAElB,GAAI,UAAU,KAAK,GAAW,EAAE,EAC9B,MAAO,OAAM;AAAA,CAAc,EAE7B,GAAI,IAAc,EAChB,MAAO,OAAM,4FAAiB,EAEhC,AAAK,IAAW,IAAI,OAAS,GAC3B,MAAM,wGAAmB,EAEvB,GACF,MAAM,GAAS,IACb,CAAE,SAAQ,EACV,CAEE,iBAAkB,AAAC,GAAU,EAC3B,MAAO,CAAC,GAAG,EAAK,MAAO,CAAE,GAAI,KAAK,IAAI,EAAG,SAAQ,CAAC,CACpD,GAEA,QAAS,EACX,CACF,EACA,EACE,EAAM,IAAI,AAAC,GAAS,EAAK,OAAO,EAAE,MAAM,EAAK,CAC/C,EACA,EAAW,EACX,EAAK,MAAM,EACX,WAAW,IAAM,CACf,EAAK,cAAc,OAAO,GAAG,MAAM,CACrC,EAAG,CAAC,EAER,GAEA,gBAAC,SACC,KAAK,OACL,KAAK,UACL,YAAY,mGACZ,UAAS,GACT,aAAa,MACb,SAAU,CAAC,CAAC,EACd,CACF,EAEF,gBAAC,OAAI,UAAU,WACb,gBAAC,GAAO,QAAS,GACf,gBAAC,GAAK,KAAK,SAAS,GAAG,SAAQ,gCAE/B,CACF,EACA,gBAAC,GAAO,QAAS,IAAM,EAAY,EAAI,GACrC,gBAAC,SAAE,oBAAG,CACR,CACF,CACF,CACF,EACA,gBAAC,IACC,MAAM,qBACN,QACE,gBAAC,WACC,gBAAC,SAAE,yGAED,gBAAC,SAAG,EACJ,gBAAC,SAAG,EAAE,iFAEN,gBAAC,SAAG,EAAE,mDAEN,gBAAC,SAAG,EAAE,iCAEN,gBAAC,SAAG,EAAE,uCAEN,gBAAC,SAAG,EAAE,iFAEN,gBAAC,SAAG,EAAE,uIAEN,gBAAC,SAAG,EACJ,gBAAC,SAAG,EAAE,4EAEN,gBAAC,SAAG,EAAE,yGAEN,gBAAC,SAAG,EACJ,gBAAC,SAAG,EAAE,uFAEN,gBAAC,SAAG,EAAE,mDACG,EAAW,uCACpB,gBAAC,SAAG,EACJ,gBAAC,SAAG,EAAE,4EAEN,gBAAC,SAAG,EACJ,gBAAC,SAAG,EAAE,4CAER,CACF,EAEF,KAAM,EACN,QAAS,EACX,EACA,gBAAC,IACC,MAAM,6CACN,QACE,gBAAC,WACC,gBAAC,SACE,EAAM,OAAO,oDACd,gBAAC,SAAG,EACJ,gBAAC,SAAG,EAAE,iFACQ,EAAgB,gBAC9B,gBAAC,SAAG,EACJ,gBAAC,SAAG,EACH,GAAmB,EAAM,QACxB,gBAAC,SAAE,kCAED,gBAAC,SAAG,EACJ,gBAAC,SAAG,CACN,EACA,kDAEJ,EACA,gBAAC,OAAI,UAAU,qBACb,gBAAC,GACC,QAAS,IAAM,CACb,EAAgB,EAAK,EACrB,EAAQ,CACV,GAEA,gBAAC,SAAE,gCAAK,CACV,EACA,gBAAC,GAAO,QAAS,GACf,gBAAC,GAAK,KAAK,SAAS,GAAG,KAAI,4CAE3B,CACF,CACF,CACF,EAEF,KAAM,EACN,QAAS,EACX,CACF,CAEJ,EAEO,GAAQ,GGnWf,yDAIO,GAAM,IAAQ,IACnB,IAAU,IAAM,CAMd,AALW,UAAY,CAErB,GAAM,GAAO,KAAM,AADF,MAAM,OAAM,WAAW,GACZ,KAAK,EACjC,QAAQ,IAAI,CAAI,CAClB,GACG,CACL,EAAG,CAAC,CAAC,EAEH,gBAAC,OAAI,UAAU,gBACb,gBAAC,OACC,gBAAC,aAAM,gBAAc,EACrB,gBAAC,QACC,KAAK,cACL,QAAQ;AAAA,8NAEV,CACF,EACA,gBAAC,OAAI,UAAU,0BACb,gBAAC,OAAI,UAAU,eACb,gBAAC,UAAG,kDAAQ,EACZ,gBAAC,SAAE,iFAED,gBAAC,SAAG,EAAE,oGACN,gBAAC,SAAG,EAAE,yGACR,CACF,EACA,gBAAC,OACC,gBAAC,GAAK,KAAK,SAAS,GAAG,SAAQ,4CAE/B,CACF,CACF,CACF,GAIG,GAAQ,GCzCR,GAAM,IAAsB,CAAC,CAAE,SAAU,KAAe,CAC7D,SAAS,KAAK,CAAE,KAAM,OAAQ,CAAC,CACjC,ECHA,qFACA,gGACA,0HAEA,mEACA,uFACA,qEACA,4FAEA,4FACA,gRAYA,+FACA,4EACA,2HCzBA,gGACA,oEACA,2IAGA,GAAO,IAAQ,CACb,KAAM,AAAC,GACE,EAAS,WAAW,KAAK,GAC7B,GAAkB,KAAK,AAAC,GAAQ,EAAS,SAAS,IAAI,GAAK,CAAC,GAAK,CAAC,EAAS,SAAS,OAAO,GAC5F,EAAS,SAAS,MAAM,EAE5B,MAAO,KAAO,IAAoC,CAEhD,GAAM,GAAY,AADsB,QAAQ,IAAI,WAAY,gBAAgB,GACtD,OAAO,WAAa,OACxC,CAAE,WAAU,gBAAiB,GAAI,KAAI,EAAI,GAAG,EAElD,OAAQ,OACD,iBACA,qBACA,8BACH,MAAO,IAAI,UAAS,YAAa,CAAE,OAAQ,GAAI,CAAC,EAGpD,GAAI,CACF,GAAI,GAAW,KAAK,IAAY,IAC5B,EAAQ,wCACZ,AACE,GAAa,IAAI,QAAQ,GACxB,EAAS,WAAW,YAAY,GAAK,CAAC,EAAS,SAAS,KAAK,GAAK,CAAC,EAAS,SAAS,MAAM,IAE5F,IAAY,OAEV,EAAS,SAAS,MAAM,GAAK,CAAC,EAAa,IAAI,QAAQ,GACzD,GAAQ,2BAEV,GAAM,GAAU,GAAI,SAAQ,CAAE,eAAgB,CAAM,CAAC,EAC/C,EAAW,GAAgB,EAC7B,EAAsB,KAC1B,GAAI,EACF,EAAO,KAAK,KAAK,CAAQ,EAAE,QAAQ,aAAc,EAAE,KAAK,QACnD,CACL,GAAM,GAAO,KAAM,MAAK,MAAM,CAAQ,EACtC,GAAI,CAAC,EAAK,OACR,MAAO,IAAI,UAAS,YAAa,CAAE,OAAQ,GAAI,CAAC,EAElD,GAAM,CAAE,QAAO,QAAS,EACxB,AAAI,GACF,GAAO,KAAK,EAAM,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAK,SAAS,EAAE,IAC5D,EAAQ,OAAO,gBAAiB,GAAI,MAAK,CAAK,EAAE,YAAY,CAAC,EAEjE,CACA,GAAI,GAAQ,EAAI,QAAQ,IAAI,eAAe,IAAM,EAC/C,MAAO,IAAI,UAAS,KAAM,CAAE,OAAQ,GAAI,CAAC,EAE3C,GAAM,GAAO,KAAM,MAAK,KAAK,EAAU,CAAE,KAAM,EAAK,CAAC,EACrD,MAAI,IACF,EAAQ,OAAO,OAAQ,CAAI,EAEzB,GAAa,IAAI,GAAG,GAAM,EAAS,WAAW,KAAK,GAAK,GAAe,KAAK,CAAQ,IACtF,EAAQ,OAAO,gBAAiB,qCAAqC,EAEhE,GAAI,UAAS,GAAyB,CAAI,EAAG,CAAE,SAAQ,CAAC,CACjE,OAAS,EAAP,CACA,MAAI,aAAe,MAAK,OAAO,SACtB,GAAI,UAAS,YAAa,CAAE,OAAQ,GAAI,CAAC,EAElD,IAAI,MAAM,CAAG,EACN,GAAI,UAAS,wBAAyB,CAAE,OAAQ,GAAI,CAAC,EAC9D,CACF,CACF,EDnBO,GAAM,IAAQ,CAAC,EAAyB,CAAC,IAAM,CACpD,GAAM,CAAE,SAAQ,SAAQ,QAAO,YAAW,cAAa,QAAO,MAAK,WAAU,WAAY,EACnF,EAAQ,KAAK,IAAI,IAAI,WAAW,IAAM,cAGtC,EAAU,MAAO,EAAc,IAA0C,CAC7E,GAAM,GAAM,GAAI,KAAI,EAAI,GAAG,EACrB,CAAE,WAAU,gBAAiB,EAInC,GAAI,IAAa,SAAU,CACzB,GAAM,CAAE,SAAQ,YAAa,KAAK,iBAAiB,EAAK,CAAC,CAAC,EAC1D,SAAO,iBAAiB,OAAQ,IAAM,CACpC,EAAO,KAAK,KAAK,UAAU,CAAE,KAAM,QAAS,CAAC,CAAC,EAC9C,WAAW,IAAM,CACf,EAAO,MAAM,CACf,EAAG,EAAE,CACP,CAAC,EACM,CACT,CAEA,GAAM,GAAgC,CAAC,EACjC,EAA2E,CAAC,EAC5E,EAAM,GAAc,EAAK,CAAE,WAAU,oBAAmB,CAAC,EAG/D,GAAI,MAAM,QAAQ,CAAW,EAC3B,OAAS,GAAI,EAAG,EAAI,EAAY,OAAQ,EAAI,EAAG,IAAK,CAClD,GAAM,GAAK,EAAY,GACjB,EAAU,EAAG,MACnB,GAAI,MAAO,IAAY,WACrB,GAAI,EAAG,MACL,GAAI,CACF,GAAI,GAAM,EAAQ,EAAK,CAAG,EAI1B,GAHI,YAAe,UACjB,GAAM,KAAM,IAEV,YAAe,UACjB,MAAO,GAET,AAAI,MAAO,IAAQ,YACjB,WAAW,EAAK,CAAC,CAErB,OAAS,EAAP,CACA,GAAM,GAAM,IAAU,EAAK,CAAE,GAAI,aAAc,IAAK,EAAI,IAAK,QAAS,CAAI,CAAC,EAC3E,MAAI,aAAe,UACV,EAET,GAAI,MAAM,aAAa,EAAG,KAAO,IAAI,EAAG,QAAU,MAAO,CAAG,EACrD,GAAI,UAAS,EAAkB,EAAI,OAAS,EAAI,OAAO,EAAG,CAC/D,OAAQ,IACR,QAAS,CAAC,CAAC,eAAgB,WAAW,CAAC,CACzC,CAAC,EACH,KAEA,GAAgB,KAAK,CAAE,CAG7B,CAIF,GAAI,GAAwB,KAAK,CAAQ,EACvC,GAAI,CACF,GAAM,GAAY,KAAM,GAAS,qBAAsB,EAAa,EAC9D,EAAY,KAAM,GAAS,qBAAsB,IAAM,GAAc,CAAS,CAAC,EACrF,MAAO,MAAM,IAAwB,MAAM,EAAK,CAC9C,YACA,YACA,YAAa,GAAO,OACpB,OACF,CAAC,CACH,OAAS,EAAP,CACA,GAAI,YAAe,IAAgB,CACjC,GAAM,GAAc,GAAY,GAAe,CAAC,EAChD,MAAO,IAAI,UACT,uCAAuC,iDACrC,KAAK,UAAU,CAAG,MAEpB,CAAE,QAAS,CAAC,CAAC,eAAgB,wBAAwB,CAAC,CAAE,CAC1D,CACF,CACA,GAAI,CAAE,aAAe,MAAK,OAAO,UAC/B,SAAI,MAAM,CAAG,EACN,IAAU,EAAK,CAAE,GAAI,YAAa,IAAK,EAAI,GAAI,CAAC,GACrD,GAAI,UAAS,EAAkB,EAAI,OAAS,EAAI,OAAO,EAAG,CACxD,OAAQ,IACR,QAAS,CAAC,CAAC,eAAgB,WAAW,CAAC,CACzC,CAAC,CAEP,CAKF,GAAM,GAAS,AADO,MAAM,GAAS,yBAA0B,EAAiB,GACnD,KAAK,AAAC,GAAW,EAAO,KAAK,CAAQ,CAAC,EACnE,GAAI,EACF,GAAI,CACF,GAAM,GAAY,KAAM,GAAS,qBAAsB,EAAa,EAC9D,EAAY,KAAM,GAAS,qBAAsB,IAAM,GAAc,CAAS,CAAC,EACrF,MAAO,MAAM,IAAwB,MAAM,EAAK,CAC9C,OAAQ,EACR,YACA,YACA,YAAa,GAAO,OACpB,OACF,CAAC,CACH,OAAS,EAAP,CACA,GAAI,YAAe,IAAgB,CACjC,GAAM,GAAc,GAAY,GAAe,CAAC,EAChD,MAAO,IAAI,UACT,uCAAuC,iDACrC,KAAK,UAAU,CAAG,MAEpB,CAAE,QAAS,CAAC,CAAC,eAAgB,wBAAwB,CAAC,CAAE,CAC1D,CACF,CACA,GAAI,CAAE,aAAe,MAAK,OAAO,UAC/B,SAAI,MAAM,CAAG,EACN,IAAU,EAAK,CAAE,GAAI,YAAa,IAAK,EAAI,GAAI,CAAC,GACrD,GAAI,UAAS,EAAkB,EAAI,OAAS,EAAI,OAAO,EAAG,CACxD,OAAQ,IACR,QAAS,CAAC,CAAC,eAAgB,WAAW,CAAC,CACzC,CAAC,CAEP,CAIF,GAAM,GAAc,GAAe,CAAQ,EAC3C,GAAI,CAAC,EAAS,WAAW,IAAI,GAAK,IAAgB,2BAChD,GAAI,CACF,GAAI,GAAW,IAAI,IACf,EAAO,KAAM,MAAK,MAAM,CAAQ,EAKpC,GAJI,EAAK,aAAe,IAAa,KACnC,GAAW,GAAG,GAAK,WAAW,EAAU,GAAG,eAC3C,EAAO,KAAM,MAAK,MAAM,CAAQ,GAE9B,EAAK,OAAQ,CACf,GAAM,GAAU,GAAI,SAAQ,CAAE,eAAgB,CAAY,CAAC,EACrD,EAAW,GAAgB,EAC7B,EAAsB,KAC1B,GAAI,EACF,EAAO,KAAK,KAAK,CAAQ,EAAE,QAAQ,aAAc,EAAE,KAAK,QACnD,CACL,GAAM,CAAE,QAAO,SAAS,EACxB,AAAI,GACF,GAAO,KAAK,EAAM,QAAQ,EAAE,SAAS,EAAE,KAAK,GAAK,SAAS,EAAE,IAC5D,EAAQ,OAAO,gBAAiB,GAAI,MAAK,CAAK,EAAE,YAAY,CAAC,EAEjE,CACA,GAAI,EAAM,CACR,GAAI,EAAI,QAAQ,IAAI,eAAe,IAAM,EACvC,MAAO,IAAI,UAAS,KAAM,CAAE,OAAQ,GAAI,CAAC,EAE3C,EAAQ,OAAO,OAAQ,CAAI,CAC7B,CACA,AAAI,GAAa,IAAI,GAAG,GAAK,GAAe,KAAK,CAAQ,IACvD,EAAQ,OAAO,gBAAiB,qCAAqC,EAEvE,GAAM,GAAO,KAAM,MAAK,KAAK,EAAU,CAAE,KAAM,EAAK,CAAC,EACrD,MAAO,IAAI,UAAS,GAAyB,CAAI,EAAG,CAAE,SAAQ,CAAC,CACjE,CACF,OAAS,EAAP,CACA,GAAI,CAAE,aAAe,MAAK,OAAO,UAC/B,SAAI,MAAM,CAAG,EACN,IAAU,EAAK,CAAE,GAAI,KAAM,IAAK,EAAI,GAAI,CAAC,GAC9C,GAAI,UAAS,EAAkB,EAAI,OAAS,EAAI,OAAO,EAAG,CACxD,OAAQ,IACR,QAAS,CAAC,CAAC,eAAgB,WAAW,CAAC,CACzC,CAAC,CAEP,CAIF,OAAW,KAAM,GACf,GAAI,CACF,GAAI,GAAM,EAAG,MAAM,EAAK,CAAG,EAI3B,GAHI,YAAe,UACjB,GAAM,KAAM,IAEV,YAAe,UACjB,MAAO,GAET,AAAI,MAAO,IAAQ,YACjB,WAAW,EAAK,CAAC,CAErB,OAAS,EAAP,CACA,GAAM,GAAM,IAAU,EAAK,CAAE,GAAI,aAAc,IAAK,EAAI,IAAK,QAAS,CAAI,CAAC,EAC3E,MAAI,aAAe,UACV,EAET,GAAI,MAAM,aAAa,EAAG,KAAO,IAAI,EAAG,QAAU,MAAO,CAAG,EACrD,GAAI,UAAS,EAAkB,EAAI,OAAS,EAAI,OAAO,EAAG,CAC/D,OAAQ,IACR,QAAS,CAAC,CAAC,eAAgB,WAAW,CAAC,CACzC,CAAC,EACH,CAIF,GAAI,MAAO,IAAU,WACnB,MAAO,GAAM,EAAK,CAAG,EAIvB,GAAM,GAAyB,KAAM,GACnC,iBACA,IAAM,EAAS,GAAW,CAAM,EAAI,QAAQ,QAAQ,CAAE,OAAQ,CAAC,CAAE,CAAC,CACpE,EACA,GAAI,EAAW,OAAO,OAAS,EAAG,CAChC,GAAM,GAAU,EAAI,SAAW,OAC5B,GAAI,aAAa,IAAI,QAAQ,GAAK,EAAI,QAAQ,IAAI,QAAQ,IAAM,oBACnE,GAAI,CACF,GAAM,GAAO,KAAM,IAAe,EAAW,OAAQ,EAAK,EAAK,EAAK,CAAO,EAC3E,GAAI,EACF,MAAO,EAEX,OAAS,EAAP,CAEA,GAAI,YAAe,YAAa,CAAC,EAC/B,MAAO,IAAI,UAAS,EAAkB,EAAI,OAAS,EAAI,OAAO,EAAG,CAC/D,OAAQ,IACR,QAAS,CAAC,CAAC,eAAgB,WAAW,CAAC,CACzC,CAAC,EAIH,GAAM,GAAM,IAAU,EAAK,CAAE,GAAI,mBAAoB,IAAK,EAAI,IAAK,QAAS,CAAI,CAAC,EACjF,GAAI,YAAe,UACjB,MAAO,IAAY,EAAK,EAAI,QAAS,CAAO,EAI9C,GAAI,YAAe,UACjB,MAAO,IAAY,EAAK,EAAI,QAAS,CAAO,EAI9C,AAAI,aAAe,QAAS,MAAO,IAAQ,WACzC,EAAI,MAAM,CAAG,EAIf,GAAM,GAAiB,GAAK,OAAO,EAAI,QAAU,EAAI,IAAI,EAAI,EAAI,QAAU,EAAI,KAAO,IACtF,MAAO,UAAS,KAAK,CAAE,GAAG,EAAK,SAAQ,QAAS,EAAI,SAAW,OAAO,CAAG,EAAG,MAAO,EAAI,KAAM,EAAG,CAC9F,SACA,QAAS,EAAI,OACf,CAAC,CACH,CACF,CAGA,OAAQ,OACD,mBACA,cACH,MAAO,IAAI,UAAS,YAAa,CAAE,OAAQ,GAAI,CAAC,EAGpD,GAAI,CACF,GAAM,GAAY,KAAM,GAAS,qBAAsB,EAAa,EAC9D,EAAY,KAAM,GAAS,qBAAsB,IACrD,GAAoB,CAClB,QACA,YACA,IAAK,MAAO,IAAQ,WAAa,CAAC,EAAI,EACtC,gBAAiB,EAAQ,WAAW,eACtC,CAAC,CAAC,EACJ,MAAO,IAAS,MAAM,EAAK,EAAK,CAC9B,YACA,aACA,qBACA,QACA,KACF,CAAC,CACH,OAAS,EAAP,CACA,GAAI,YAAe,UACjB,MAAO,GAET,GAAI,GACJ,AAAI,YAAe,OACjB,GAAU,EAAI,MACd,EAAI,MAAM,MAAO,CAAG,GAEpB,EAAU,GAAK,WAAW,GAAK,OAAO,CAAG,EAE3C,GAAM,GAAK,GAAO,MAAO,IAAQ,WAAa,EAAI,aAAe,SACjE,SAAI,QAAQ,OAAO,gBAAiB,GAAG,+BAAgC,EACvE,EAAI,QAAQ,OAAO,eAAgB,0BAA0B,EACtD,GAAI,UAAS,EAAkB,EAAS,KAAK,EAAG,CAAE,QAAS,EAAI,OAAQ,CAAC,CACjF,CACF,EAGA,AAAI,GACF,EAAI,SAAS,CAAQ,EAIvB,QAAQ,IAAI,WAAY,iBAAkB,CAAE,SAAQ,SAAQ,QAAO,WAAU,CAAC,EAC9E,QAAQ,IAAI,WAAY,2BAA4B,GAAI,GAAiB,EAEzE,GAAM,CAAE,WAAU,OAAO,KAAM,WAAU,UAAS,UAAW,EAC7D,AAAI,KAAK,IAAI,IAAI,WAAW,EAC1B,QAAQ,IAAI,WAAY,iBAAkB,CAAE,WAAU,OAAM,WAAU,UAAS,UAAS,QAAO,CAAC,EAEhG,CAAI,GAAY,EACd,GAAS,EAAS,CAAE,WAAU,OAAM,WAAU,UAAS,QAAO,CAAC,EAE/D,GAAS,EAAS,CAAE,WAAU,OAAM,QAAO,CAAC,EAE9C,EAAI,KAAK,oCAAoC,GAAM,EAEvD,EE5WA,iFAEA,GAAM,CACJ,OAAQ,4BACR,IAAK,CAGH,UAAW,GACX,OAAQ,AAAC,GAAQ,GAAuB,gBAAC,IAAI,WAAY,EAAK,EAAI,CAAG,CACvE,CACF,CAAC,ElBVD,WAAW,yBAA2B,GAAI,IAAgB,GAAM,OAAO,EAGvE,EAAO,uBAAwB,CAAE,KAAM,GAAI,QAAS,EAAI,CAAC,EAEzD,EAAO,uBAAwB,CAAE,IAAK,GAAI,QAAS,EAAI,CAAC,EAExD,EAAO,uBAAwB,CAAE,KAAM,GAAI,KAAM,GAAK,QAAS,EAAK,CAAC,EAErE,EAAO,wBAAyB,CAAE,MAAO,GAAI,QAAS,EAAI,CAAC,EAE3D,EAAO,0BAA2B,CAAE,QAAS,EAAG,CAAC",
  "names": []
}
